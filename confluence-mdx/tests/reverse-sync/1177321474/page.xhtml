<p local-id="16c9989a-03d0-4971-a6ed-06bc186cf6d1" /><ac:structured-macro ac:name="toc" ac:schema-version="1" data-layout="default" ac:local-id="62327b93-d269-4401-b66c-a33060d8bfb5" ac:macro-id="e786e4ee-2f0e-4a56-be46-56956f9022e3"><ac:parameter ac:name="minLevel">1</ac:parameter><ac:parameter ac:name="maxLevel">6</ac:parameter><ac:parameter ac:name="outline">false</ac:parameter><ac:parameter ac:name="style">none</ac:parameter><ac:parameter ac:name="type">list</ac:parameter><ac:parameter ac:name="printable">true</ac:parameter></ac:structured-macro><h1 local-id="e0505e30-feeb-485b-8a14-d2a1165ea25c">소개</h1><p local-id="34cb537c-f818-475d-a581-9301ceda7ed1">이 설치 가이드는 하나의 서버 컴퓨터에 QueryPie 서버를 설치하는 간단한 구성의 설치 방법을 안내합니다. 간단한 구성으로 설치하더라도, 대부분의 쿼리파이 기능을 시험해 볼 수 있습니다.</p><p local-id="b90595d5-48e6-4738-9e86-dbc6eed9d133">이 가이드에서 안내하는 setup.v2.sh 설치 프로그램은 기존의 설치 과정을 자동으로 수행합니다. 자동화된 설치 과정은 기존의 설치 과정과 주요 부분이 동일합니다. 기존 설치 과정은 이 문서를 참조하세요: <ac:link ac:local-id="ae93fcaa-e5a2-4c50-81c6-65ff9542a7b8" ac:card-appearance="inline"><ri:page ri:content-title="설치 가이드 - 간단한 구성" ri:version-at-save="14" /><ac:link-body>설치 가이드 - 간단한 구성</ac:link-body></ac:link></p><p local-id="c30268ac-b163-4f88-9471-2ceaf9dc6acd">이 설치 방식은 실제 운영 환경에서 사용하기에는 적합하지 않습니다. 실제 운영 환경에 사용하기에 적합한 설치 방법은 별도로 제공되는 [QueryPie Installation Guide]를 참고하십시오.</p><ac:structured-macro ac:name="info" ac:schema-version="1" ac:local-id="63c4d49e-6c59-4af6-a8d0-6d3b7b5d8d1b" ac:macro-id="a9b54f6a-0d09-4b8b-8993-318edc6f4891"><ac:rich-text-body><p local-id="d2c124f0-76ac-414e-a253-dcdadc312d11">QueryPie 10.3.0 또는 이후 버전을 대상으로 하는 PoC 용도의 설치 가이드입니다.</p></ac:rich-text-body></ac:structured-macro><h1 local-id="1761e594-0806-4353-bd0b-fc249bb92a39">설치 전 준비사항</h1><p local-id="f8f943cd-adf1-4a21-a24a-b446374cfa30">설치를 진행하기 전에, 다음의 사항을 준비해야 합니다. 간단히 요약하면, 다음과 같습니다.</p><ul local-id="9d26bea5-b334-4496-84b4-3ed7a1f32e38"><li local-id="bfec4309-2e1f-4457-a45c-9dc0ea8b2170"><p local-id="2d9e5d8a-c9d3-47e7-8852-11665796a04c">Linux 서버 1대</p></li><li local-id="e6c00b16-9268-4bb6-a538-3721f768b5bb"><p local-id="3e7c0afc-4dee-4453-b7e3-10bfe9e1bfb9">웹 브라우저가 설치된 PC 1대</p></li></ul><p local-id="2d689977-49c2-4b6b-8fa3-a8f34d42e236">자세한 것은 다음 문서를 참조하세요: <ac:link ac:local-id="ce014a6a-75bd-4bfc-9548-173fcce250f6" ac:card-appearance="inline"><ri:page ri:content-title="설치 전 준비사항" ri:version-at-save="22" /><ac:link-body>설치 전 준비사항</ac:link-body></ac:link></p><h1 local-id="541ac68a-05d2-4901-aed6-037f9892b166">시스템 아키텍처</h1><p local-id="37ec7c46-7e28-4328-86a6-9506771926ec">다음 문서를 참조하세요: <ac:link ac:local-id="1bcf4a21-3fa4-45b1-9293-5376294cf02f" ac:card-appearance="inline"><ri:page ri:content-title="시스템 아키텍처와 네트워크 접근제어" ri:version-at-save="16" /><ac:link-body>시스템 아키텍처와 네트워크 접근제어</ac:link-body></ac:link> </p><h1 local-id="4d3e370a-8b0d-4828-8b45-d0a15062375f">설치 과정</h1><h2 local-id="d6dae79a-6198-492e-925c-ba49dee1799a">setup.v2.sh 실행</h2><p local-id="953189f5-527f-4e58-a147-fd6b658a5abf">QueryPie 를 설치할 리눅스 서버의 shell 에서,  <code>setup.v2.sh</code> 스크립트를 내려받고, 실행합니다. setup.sh 가 실제로 수행하는 명령은 실행 과정에서 확인할 수 있습니다.</p><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="e1c19534-39cb-4001-84fd-c0eda9efbaa9" ac:macro-id="63f950fa-21cf-4079-8b84-ab33f58b535c"><ac:parameter ac:name="language">bash</ac:parameter><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[$ # Download setup.v2.sh and execute it.
$ bash <(curl -s https://dl.querypie.com/setup.v2.sh)]]></ac:plain-text-body></ac:structured-macro><p local-id="464d6102-f3ff-47df-a6f9-c7d9ce9f715d">다음과 같이 <code>setup.v2.sh</code> 를 파일로 저장한 후, 실행하여도 됩니다.</p><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="6c28bd50-b8f8-4950-9fdb-08a1dda7a9cb" ac:macro-id="3d5ec8b9-1c0a-4db9-b901-784c368ff7ca"><ac:parameter ac:name="language">bash</ac:parameter><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[$ curl -s https://dl.querypie.com/setup.v2.sh -o setup.v2.sh
$ bash setup.v2.sh]]></ac:plain-text-body></ac:structured-macro><p local-id="7cf446c7-b713-4f42-a362-8b6b5040543f"><code>setup.v2.sh</code> 는 제조사에서 권장하는 버전을 스스로 선택하여 설치합니다. 설치 가능한 버전은 이 문서를 참조하세요: <ac:link ac:local-id="dee9aead921e" ac:card-appearance="inline"><ri:page ri:content-title="제품 버전" ri:version-at-save="11" /><ac:link-body>제품 버전</ac:link-body></ac:link></p><p local-id="f6e2b2466f56">특정한 버전을 지정하여 설치하려는 경우, 다음과 같은 명령을 사용할 수 있습니다.</p><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="d907d900-79ce-49e8-b25d-b6550c80529c" ac:macro-id="5e9c4181-eaa8-4745-a26d-00804511ef03"><ac:parameter ac:name="language">bash</ac:parameter><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[$ bash setup.v2.sh --install 10.3.4
$ bash setup.v2.sh --upgrade 11.0.1
$ bash setup.v2.sh --help
#### setup.v2.sh - QueryPie Installer 25.08.8, /usr/bin/bash 4.4.20(1)-release on Linux x86_64 ####
setup.v2.sh 25.08.8, the QueryPie installation script.
Usage: setup.v2.sh [options]
    or setup.v2.sh [options] --install <version>
    or setup.v2.sh [options] --install-container-engine
    or setup.v2.sh [options] --install-compose-package <version>
    or setup.v2.sh [options] --upgrade <version>
    or setup.v2.sh [options] --uninstall
    or setup.v2.sh [options] --help

FOR AWS AMI BUILD MAINTAINER:
    or setup.v2.sh [options] --install-partially-for-ami <version>
    or setup.v2.sh [options] --resume
    or setup.v2.sh [options] --verify-installation
    or setup.v2.sh [options] --verify-not-installed
    or setup.v2.sh [options] --populate-env <env-file>
    or setup.v2.sh [options] --reset-credential <env-file>

ENVIRONMENT VARIABLES:

  DOCKER_REGISTRY                Default: 'docker.io/querypie/'
    The Docker registry to pull images from.
    You may specify a private registry such as 'myregistry.example.com/querypie/'.
    Note that the trailing slash is required, if you set this variable.
    Actual image names will be like 'myregistry.example.com/querypie/querypie:11.1.1'.

OPTIONS:
  --yes               Assume "yes" to all prompts and run non-interactively.
  -V, --version       Show the version of this script.
  -x, --xtrace        Print commands and their arguments as they are executed.
  -h, --help          Show this help message.
$ ]]></ac:plain-text-body></ac:structured-macro><h2 local-id="c9fea077-23a3-4f68-b4f2-71daccad3acd">Podman 환경에서 QueryPie 설치하기</h2><p local-id="30fa1f67-30aa-48f5-a91b-b58d140a318f"><code>setup.v2.sh</code> <code>25.08.8</code> 버전부터는 Podman + Docker Compose 조합의 실행환경을 지원합니다.</p><p local-id="7ad9e17b-35cd-4451-aef2-10cf445b240a">다음의 리눅스 배포본에서는 Podman + Docker Compose 조합의 실행환경을 권장합니다.</p><ul local-id="f8a2d10f-7fd8-4665-b157-dc08c806e720"><li local-id="b533a972-0aee-4284-80e7-be96318d7302"><p local-id="ad4b54db-913a-4801-9076-049e06f81c0f">Red Hat Enterprise Linux 8, 9, 10</p></li><li local-id="443b653c-7595-4c60-8f3a-edfc962eb71c"><p local-id="4d99f968-fd1e-4064-8ee1-ebcf7ccedf74">Rocky 8, 9</p></li></ul><p local-id="0666146b-0e03-4bdb-b930-ccac86dcc55d">자세한 설치 방법은 이 문서를 참조하세요: <ac:link ac:local-id="88cf5272-da89-4bad-b7bc-a751cb11f50f" ac:card-appearance="inline"><ri:page ri:content-title="Podman 으로 Rootless Mode 구성하기" ri:version-at-save="4" /><ac:link-body>Podman 으로 Rootless Mode 구성하기</ac:link-body></ac:link></p><h2 local-id="a1343301-2909-4006-808d-b67fb9aa5787">setup.v2.sh 가 자동으로 수행하는 작업</h2><p local-id="d86ec75e-6315-4ee4-b2d5-a25150dd9e20"><code>setup.v2.sh</code> 는 다음의 주요 설치 절차를 자동으로 진행합니다.</p><ol start="1" local-id="8bb06331-5030-47c3-8a01-10ad0045be0f"><li local-id="eeb85178-531c-421a-8c07-9c9ddc6b9a05"><p local-id="2d248fba-8fa4-4b67-9bd9-e1db1db8a1ce"><code>docker-compose.yml</code> , <code>.env</code> 등 Compose 를 위한 설정파일을 내려 받기</p><ul local-id="60e3f0ad-b84b-4f4b-a8a3-dd56d8eca746"><li local-id="f65b586b-6af8-4ac5-87fc-3ad2c82208ab"><p local-id="ada3f4f5-9703-4476-aa9d-fb75610376b7">기존의 <code>compose-env</code> 라는 환경변수 설정 파일의 이름이 <code>.env</code> 로 바뀌었습니다. <code>compose-env</code> 는 설정파일 생성을 위한 template 으로 사용됩니다.</p></li></ul></li><li local-id="4b6b9692-f1c2-4b88-bfa9-070a9b46bf0d"><p local-id="b1f18857-0959-4cb7-8542-264f050a1a8c"> <code>.env</code> 에 환경변수 값을 설정하기</p><ul local-id="13f33319-1a1a-411f-9804-04f6c4ac83b8"><li local-id="2c13789e-c097-48d0-a3cc-6b64ff783050"><p local-id="7c1c4d3e-dce5-4667-91c1-901c29462475">각 환경변수에 대한 설명은 <ac:link ac:local-id="7b1d906f-e590-4a5e-b77c-82adf275a875" ac:card-appearance="inline"><ri:page ri:content-title="컨테이너 환경변수" ri:version-at-save="11" /><ac:link-body>컨테이너 환경변수</ac:link-body></ac:link> 문서를 참고해주세요.</p></li></ul></li><li local-id="0a52d981-127b-47fa-b63f-de3d6d0ff8fe"><p local-id="d80cead8-90d2-44fe-ad4d-cd43fbcd1532">docker image 내려받기</p><ul local-id="b4a80a92-430d-4426-8019-1fe857ea86d9"><li local-id="4ca7839f-d8da-4500-9eee-e110ee2b728a"><p local-id="04543e87-bc1f-4dda-b204-848cf3832cbe"><code>docker.io/querypie/</code> registry 에서 image 를 내려받습니다. 따라서, Harbor login 과정이 필요하지 않습니다.</p></li></ul></li><li local-id="974abb8c-5463-44f4-9419-f076f98fdaf7"><p local-id="83a10b1e-043d-4597-8f73-df1d9f73bd65">mysql, redis container 실행하기</p></li><li local-id="fead9ede-6391-4af8-a742-fe98c2cc25e4"><p local-id="b016b11e-58eb-428f-8995-3208f178a12b">querypie-tools container 실행하고, migration 수행하기</p></li><li local-id="3bb82b7e-76e9-4966-9958-7853bf84076a"><p local-id="5579c047-59cd-4db3-a17b-ef3be8dc8a0a">querypie-app container 실행하기</p></li><li local-id="b3e5dee0-3325-4a3a-b3aa-c751a745952f"><p local-id="296d135a-c68b-4bd8-b5f1-541b92d21518"><code>./querypie/current</code> 라는 심볼릭 링크를 생성하여, 현재 작동 중인 버전을 가리킵니다.</p></li></ol><p local-id="865ea181-7ec8-40bb-90a8-f7a3e6ce9d1b"><code>setup.v2.sh</code> 가 querypie-app container 를 정상적으로 기동하고 나면, 다음과 같은 실행 성공 안내 메시지를 만나게 됩니다.</p><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="ac2ce806-29fd-4233-92ab-835f8fd76d56" ac:macro-id="b003e894-e64c-4963-b7f3-e3a8252f569f"><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[+ docker exec querypie-app-1 readyz
########################################################################
#                                                                      #
#     ██████╗ ██╗   ██╗███████╗██████╗ ██╗   ██╗██████╗ ██╗███████╗    #
#    ██╔═══██╗██║   ██║██╔════╝██╔══██╗╚██╗ ██╔╝██╔══██╗██║██╔════╝    #
#    ██║   ██║██║   ██║█████╗  ██████╔╝ ╚████╔╝ ██████╔╝██║█████╗      #
#    ██║▄▄ ██║██║   ██║██╔══╝  ██╔══██╗  ╚██╔╝  ██╔═══╝ ██║██╔══╝      #
#    ╚██████╔╝╚██████╔╝███████╗██║  ██║   ██║   ██║     ██║███████╗    #
#     ╚══▀▀═╝  ╚═════╝ ╚══════╝╚═╝  ╚═╝   ╚═╝   ╚═╝     ╚═╝╚══════╝    #
#                                                                      #
########################################################################
.--------------------------------------------------------.
|  🚀 QueryPie Server has been successfully started! 🚀  |
|  Timestamp in UTC: Mon Jul 28 17:04:31 UTC 2025        |
|  Timestamp in KST: Tue Jul 29 02:04:31 KST 2025        |
'--------------------------------------------------------'
+ popd
~
## Create a symbolic link 'current' pointing to 11.0.1
+ pushd ./querypie/
~/querypie ~
+ rm -f current
+ ln -s 11.0.1 current
+ popd
~
### Installation completed successfully
### Access QueryPie at http://172.31.11.201:8000 or https://172.31.11.201:8443 in your browser
### Determine the public IP address of your host machine if needed
[ec2-user@ip-172-31-11-201 ~]$ ]]></ac:plain-text-body></ac:structured-macro><h2 local-id="910bea6a-0dd3-4ebb-a534-977f47db1414">설치 완료</h2><p local-id="68c6211a-ca5a-4262-9524-dadcb85f292a">수고하셨습니다. 이제 QueryPie 가 작동하는 모습을 볼 수 있습니다.</p><p local-id="c80a8f39-cc6c-42d5-8438-57d57904fe68"><code>setup.v2.sh</code> 의 실행 마지막에 보이는 <code>http://172.31.11.201:8000</code> 와 같은 URL 에 접속을 시도하여 보십시오. 이 주소는 Local PC 에서 Linux Server 로 연결하기 위한 IP Address 를 사용합니다. 네트워크 연결 구성을 참조하여, Firewall, AWS Security Group 설정 등을 변경하여야 할 수 있습니다: <ac:link ac:local-id="b24d026d-9969-4637-a0e5-86f9f1a17d7f" ac:card-appearance="inline"><ri:page ri:content-title="시스템 아키텍처와 네트워크 접근제어" ri:version-at-save="16" /><ac:link-body>시스템 아키텍처와 네트워크 접근제어</ac:link-body></ac:link> </p><h2 local-id="b031a05d-37d8-4845-823d-fa22f2bc2749">License 입력하기</h2><p local-id="1844a07e-759a-4ed9-9cf0-cb1fb38227ac">License 파일은 웹콘솔 화면에서 입력할 수 있습니다.</p><ac:image ac:align="left" ac:layout="align-start" ac:original-height="1776" ac:original-width="1737" ac:custom-width="true" ac:local-id="a47dfa13-8d6a-40d2-b4fe-01c2d1d9c16e" ac:alt="image-20250718-063723.png" ac:width="767"><ri:attachment ri:filename="image-20250718-063723.png" ri:version-at-save="3" /><ac:caption ac:local-id="71685c16-767b-41e0-9d46-86236a6a12ac"><p>Enter the license in PEM format.</p></ac:caption></ac:image><h1 local-id="df216074-eb94-4c48-ac10-5b1982df7e89">기본 설정 절차</h1><p local-id="4768f766-ebaa-4d2d-a12c-2b5d1d656b45">설치가 완료된 후, 운영 환경에 맞게 초기 설정을 진행하여야 합니다. 자세한 설정 절차는 다음 문서를 참조하세요: <ac:link ac:local-id="7ba0108e-99f2-43f0-a6ca-f85b8f252759" ac:card-appearance="inline"><ri:page ri:content-title="설치 후 초기 설정" ri:version-at-save="2" /><ac:link-body>설치 후 초기 설정</ac:link-body></ac:link></p><p local-id="6d77b907-beb1-4155-bbd6-a95becdf2d62" />