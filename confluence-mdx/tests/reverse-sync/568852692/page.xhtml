<ac:structured-macro ac:name="info" ac:schema-version="1" ac:macro-id="ffb8dae6-7d56-4df7-9ff9-18ea46eee47d"><ac:rich-text-body><p>Amazon DocumentDB 전용 상세 설정 가이드를 이곳에서 제공합니다. </p></ac:rich-text-body></ac:structured-macro><ac:structured-macro ac:name="toc" ac:schema-version="1" data-layout="default" ac:local-id="4a0b1e6c-eb64-48c5-9345-3416522d3394" ac:macro-id="fef93b45-1c5c-40b3-8a08-90179e7c40fb"><ac:parameter ac:name="minLevel">1</ac:parameter><ac:parameter ac:name="maxLevel">3</ac:parameter><ac:parameter ac:name="outline">false</ac:parameter><ac:parameter ac:name="style">default</ac:parameter><ac:parameter ac:name="type">list</ac:parameter><ac:parameter ac:name="printable">true</ac:parameter></ac:structured-macro><h2>Cloud 동기화하는 경우 커넥션 클러스터 구조 조정</h2><p>클라우드 동기화를 통해 생성된 클러스터 정보를 확인하며, 클러스터 엔드포인트, 읽기 전용 엔드포인트, 인스턴스 엔드포인트를 각각 용도에 맞게 접근할 수 있는 기능으로, 멀티 호스트 환경에서도 효율적으로 작동하도록 설계되었습니다. 해당 기능은 관리자 페이지 &gt; Databases &gt; DB Connections에서 설정할 수 있습니다.</p><p>클라우드 동기화 후 아래 화면과 같이 첫 번째 클러스터에 Cluster endpoint 주소, 두 번째 클러스터에 읽기 전용 endpoint 주소, 세 번째 클러스터에 인스턴스 endpoint 주소를 사용한 멀티호스트 connection string을 보여줍니다. 인스턴스 endpoint로 접속하는 것보다 Cluster endpoint 를 사용하는 것을 권고합니다.</p><ac:image ac:align="center" ac:alt="image-20240122-102557.png" ac:custom-width="true" ac:layout="center" ac:original-height="803" ac:original-width="843" ac:width="736"><ri:attachment ri:filename="image-20240122-102557.png" ri:version-at-save="1" /></ac:image><h2>Amazon DocumentDB TLS(SSL) 사용하기</h2><p>AWS에서 새로운 DocumentDB를 생성하면 TLS를 사용하여 전송구간 암호화를 사용할 수 있고 사용자가 선택적으로 옵션을 끌 수 있습니다. Amazon DocumentDB 클러스터에 대한 전송 중 데이터 암호화는 클러스터 파라미터 그룹의 TLS 파라미터를 통해 관리됩니다. AWS Management Console 또는 AWS Command Line Interface (AWS CLI)를 사용하여 Amazon DocumentDB 클러스터 TLS 설정을 관리할 수 있습니다. <a href="https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/security.encryption.ssl.html#security.encryption.ssl.managing">참고</a><br />Amazon DocumentDB에서 TLS가 활성화 되어 있는 경우 접속을 위해 AWS에서 제공하는 CA 번들 인증서가 필요합니다.</p><h3>CA 번들 인증서 등록하기</h3><p>AWS에서는 region에 상관없이 공동으로 사용할 수 있는 <a href="https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html#UsingWithRDS.SSL.CertificatesAllRegions">global 번들 인증서</a>와 <a href="https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html#UsingWithRDS.SSL.RegionCertificates">region별 번들 인증서</a> 두 가지 종류를 제공합니다. </p><ol start="1"><li><p>번들 인증서를 다운로드 받습니다.</p></li><li><p>QueryPie 관리자 콘솔에서 Databases &gt; Connection Management &gt; SSL Configurations 메뉴로 이동합니다.</p></li></ol><ac:image ac:align="center" ac:alt="image-20240730-112808.png" ac:custom-width="true" ac:layout="center" ac:original-height="604" ac:original-width="882" ac:width="374"><ri:attachment ri:filename="image-20240730-112808.png" ri:version-at-save="1" /><ac:adf-mark color="#091e4224" key="border" size="1" /></ac:image><ol start="3"><li><p>우측 상단에 있는 <code>Create SSL</code> 버튼을 누릅니다.</p></li><li><p><code>Name</code> 항목에 식별이 용이하도록 이름을 지정합니다.</p></li><li><p><code>SSL Mode</code>에서 <code>Required</code>를 선택합니다. </p></li><li><p>다운로드 받은 번들 인증서 (확장명 .pem 파일)를 텍스트 편집기로 열고 전체 내용을 복사해서 <code>CA Certificate</code> 항목에 붙여 넣습니다.</p></li><li><p><code>Save</code> 버튼을 눌러 설정을 저장합니다.</p></li></ol><ac:image ac:align="center" ac:alt="image-20240220-225433.png" ac:custom-width="true" ac:layout="center" ac:original-height="782" ac:original-width="521" ac:width="521"><ri:attachment ri:filename="image-20240220-225433.png" ri:version-at-save="1" /></ac:image><h3>DocumentDB에 인증서 매핑하기</h3><ol start="1"><li><p>Adminstrator &gt; Databases &gt; Connection Management &gt; DB Connections 메뉴로 이동합니다.</p></li><li><p>클라우드 동기화를 통해 생성되어 있는 DocumentDB 커넥션을 선택합니다.</p></li><li><p>아래로 스크롤하여 <strong>SSL / SSH Setting</strong> 탭으로 이동합니다.</p></li><li><p><code>Use SSL</code> 체크박스를 체크하여 활성화시킨 뒤 <strong>SSL Configurations</strong>에서 앞단계(CA 번들 인증서 등록하기)에서 등록한 설정 이름을 선택합니다. </p></li></ol><ac:image ac:align="center" ac:alt="image-20240220-230604.png" ac:custom-width="true" ac:layout="center" ac:original-height="348" ac:original-width="469" ac:width="469"><ri:attachment ri:filename="image-20240220-230604.png" ri:version-at-save="1" /><ac:adf-mark color="#091e4224" key="border" size="1" /></ac:image><ol start="6"><li><p>우측상단의 <code>Save Changes</code> 버튼을 눌러 설정을 저장합니다.</p></li></ol>