<h2>Overview</h2><p>QueryPie에서는 AWS IAM Identity Center의 사용자를 여러 클라우드 애플리케이션 및 SAML 2.0을 통해 사용자 연동을 지원합니다. 사용자를 동기화하여 접근 권한을 부여하고 정책을 적용할 수 있습니다.</p><h2>AWS IAM Identity Center에서 QueryPie를 애플리케이션으로 추가</h2><ac:image ac:align="center" ac:custom-width="true" ac:layout="center" ac:original-height="1109" ac:original-width="1914" ac:width="760"><ri:attachment ri:filename="AWS-SSO-01-20230317-044219.png" ri:version-at-save="1" /><ac:adf-mark color="#091e4224" key="border" size="1" /></ac:image><ol start="1"><li><p><a href="https://ap-northeast-2.console.aws.amazon.com/singlesignon/applications/home">AWS IAM Identity Center</a>에 접속합니다.</p></li><li><p>좌측 메뉴의 애플리케이션 메뉴로 진입합니다.</p></li><li><p>우측 상단의 애플리케이션 추가 버튼을 클릭합니다.</p></li><li><p>사용자 지정 SAML 2.0 애플리케이션 추가 옵션 선택 후 다음 버튼을 클릭합니다.</p></li><li><p>애플리케이션 구성 &gt; 표시 이름에 QueryPie를 입력합니다.</p></li><li><p>애플리케이션 속성 &gt; 애플리케이션 시작 URL 항목에 QueryPie가 설치된 도메인 주소를 아래와 같이 입력합니다.</p><ol start="1"><li><p>애플리케이션 Start URL : https://{querypie_host}</p></li></ol></li><li><p>애플리케이션 메타 데이터 항목에 각각 다음과 같이 입력합니다. </p><ol start="1"><li><p>애플리케이션 ACS URL : https://{querypie_host}/saml/sp/acs</p></li><li><p>애플리케이션 SAML 대상 : https://{querypie_host}/saml/sp/metadata</p></li></ol></li><li><p>제출 버튼을 클릭하여 저장합니다.</p></li></ol><p /><h2>QueryPie 연동을 위한 속성 매핑 설정</h2><ac:image ac:align="center" ac:custom-width="true" ac:layout="center" ac:original-height="1109" ac:original-width="1914" ac:width="760"><ri:attachment ri:filename="AWS-SSO-06-20230317-064023.png" ri:version-at-save="1" /><ac:adf-mark color="#091e4224" key="border" size="1" /></ac:image><ol start="1"><li><p>생성된 애플리케이션 우측 상단에서 작업 &gt; 속성 매핑 편집 으로 이동합니다.</p></li><li><p>애플리케이션 내 사용자 속성과 매핑 값, 형식을 위 스크린샷을 참고하여 다음과 같이 입력합니다.</p></li></ol><table ac:local-id="edf542bc-614a-4aff-94b3-2f8ad7ce3154" data-layout="default" data-table-width="760"><tbody><tr><th><p><strong>애플리케이션 내 사용자 속성</strong></p></th><th><p><strong>IAM Identity Center 의 문자열 값 또는 사용자 속성으로 매핑</strong></p></th><th><p><strong>형식</strong></p></th></tr><tr><td><p>Subject</p></td><td><p>${user:email}</p></td><td><p>emailAddress</p></td></tr><tr><td><p>firstName</p></td><td><p>${user:givenName}</p></td><td><p>basic</p></td></tr><tr><td><p>lastName</p></td><td><p>${user:familyName}</p></td><td><p>basic</p></td></tr><tr><td><p>loginId</p></td><td><p>${user:email}</p></td><td><p>basic</p></td></tr><tr><td><p>email</p></td><td><p>${user:email}</p></td><td><p>basic</p></td></tr></tbody></table><p><code>변경 사항 저장</code> 버튼을 클릭하여 저장합니다. </p><h2>QueryPie 에서 AWS IAM Identity Center 연동 설정</h2><ac:image ac:align="center" ac:alt="image-20240723-072112.png" ac:custom-width="true" ac:layout="center" ac:original-height="1800" ac:original-width="2880" ac:width="739"><ri:attachment ri:filename="image-20240723-072112.png" ri:version-at-save="1" /><ac:caption><p>Administrator &gt; General &gt; User Management &gt; Authentication </p></ac:caption><ac:adf-mark color="#091e4224" key="border" size="1" /></ac:image><ol start="1"><li><p>Administrator &gt; General &gt; User Management &gt; Authentication 메뉴로 이동합니다.</p></li><li><p>인증 Type 항목에서 <strong>SAML</strong>을 선택합니다.</p></li><li><p>애플리케이션 &gt; 작업 &gt; 구성 편집 화면에서 IAM Identity Center SAML 메타데이터 파일을 다운로드합니다.</p></li><li><p>다운로드 받은 XML 정보를 Identity Provider Metadata 항목에 붙여넣기합니다.</p></li><li><p><code>Save Changes</code> 버튼을 클릭하여 저장합니다.</p></li></ol><h2>QueryPie에서 SAML 로그인</h2><ac:image ac:align="center" ac:alt="image-20240723-073353.png" ac:custom-width="true" ac:layout="center" ac:original-height="1800" ac:original-width="2880" ac:width="760"><ri:attachment ri:filename="image-20240723-073353.png" ri:version-at-save="1" /><ac:adf-mark color="#091e4224" key="border" size="1" /></ac:image><p>이제 로그인 페이지에서 <code>Login with SAML</code> 버튼을 통해 AWS 인증하여 QueryPie에 로그인할 수 있습니다.</p><p />