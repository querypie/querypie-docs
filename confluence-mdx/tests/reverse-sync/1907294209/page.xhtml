<ac:structured-macro ac:name="toc" ac:schema-version="1" data-layout="default" ac:local-id="62327b93-d269-4401-b66c-a33060d8bfb5" ac:macro-id="e786e4ee-2f0e-4a56-be46-56956f9022e3"><ac:parameter ac:name="minLevel">1</ac:parameter><ac:parameter ac:name="maxLevel">6</ac:parameter><ac:parameter ac:name="outline">false</ac:parameter><ac:parameter ac:name="style">none</ac:parameter><ac:parameter ac:name="type">list</ac:parameter><ac:parameter ac:name="printable">true</ac:parameter></ac:structured-macro><p local-id="fd364124-7898-4f91-875d-16ee7c5b7b60">운영 환경에 따라 설치 이후 필수적으로 수행이 필요한 설정들을 안내합니다.</p><h2 local-id="cc4ca3aac8d3">공통 설정</h2><p local-id="fd6f4440-2549-4c8f-ab1b-73da6ddf6956">설치 직후 QueryPie 사용 시 필요한 공통 절차입니다.</p><h3 local-id="c125f2ba-3595-4240-9fb7-dce4b643be7c">QueryPie Web Base URL 설정</h3><blockquote local-id="0c757e66-60cc-4b95-bb31-a67f01d743ed"><p local-id="14d4424f-d11b-4305-9534-d819a7499dcc">설정 경로: Admin Page &rarr; General</p></blockquote><p local-id="055a2009-8454-42a5-bf1d-f17cf0c7b51f">Web Console 에 접근하기 위한 QueryPie 의 URL 주소입니다. (예시. <code>https://querypie.customer.com</code>) 이 URL 은 QueryPie 의 Base URL 이라고 부르기도 합니다.</p><p local-id="9a4b3839-6dfa-4694-ba2d-7714f9ec7725">이 URL 은 <code>/</code> 로 끝나지 않아야 합니다. <code>https://querypie.customer.com/</code> 와 같이 URL 의 마지막에 <code>/</code> 를 붙이지 않도록 주의하여 주세요.</p><p local-id="d2e13a10-2da9-41b0-88c6-92f81852ac16">이 URL 은 아래의 용도로 사용됩니다.</p><ul local-id="db9c0046-b441-423a-aa3e-c8592f33d64f"><li local-id="0bcd6e43-6b39-4b65-b14d-49e99a838645"><p local-id="c2478d1a-6c3c-4508-9c37-984dded483e2">SSO Integration 의 인증 과정에서, callback 주소로 사용됩니다.</p></li><li local-id="9d1c4fca-0e29-41dd-951e-d3900baa848b"><p local-id="f7da443b-0cdf-466f-9ee6-bdfa72df21f6">Web Console 에서 User Agent 를 내려받는 링크에 사용됩니다.</p></li><li local-id="7fb61359-a9f5-472e-9202-34f06fdd1170"><p local-id="e928d169-28f8-46f8-a940-e0eab37fc18d">그 외 자세한 용도는, <ac:link ac:card-appearance="inline" ac:local-id="3e1e471226e6"><ri:page ri:content-title="QUERYPIE_WEB_URL" ri:version-at-save="21" /><ac:link-body>QUERYPIE_WEB_URL</ac:link-body></ac:link>를 참조하시기 바랍니다.</p></li></ul><p local-id="4fdea619-5f7e-404d-901c-c4c16904ec3e" /><ac:image ac:align="center" ac:alt="image-20250520-081112.png" ac:custom-width="true" ac:layout="center" ac:local-id="34525a42-9aa0-4320-8742-ce4fe02fac65" ac:original-height="1958" ac:original-width="3600" ac:width="1074"><ri:attachment ri:filename="image-20250520-081112.png" ri:version-at-save="1" /><ac:caption ac:local-id="c89899d8d341"><p>QueryPie Web Base URL 설정 화면</p></ac:caption></ac:image><h2 local-id="0640e74e-2cb7-4ed9-8922-8bb5635b72a8">제품별 설정</h2><h3 local-id="accc6fda-ca95-426b-8e08-0e4b5f13b899">DAC/SAC: Proxy 접속 주소 설정</h3><p local-id="b42f1abf-fb00-43b6-b57a-ac56903a5685">QueryPie Database 에 접속하여, DAC/SAC 의 Proxy 접속을 위한 주소를 등록합니다.</p><ac:structured-macro ac:name="info" ac:schema-version="1" ac:local-id="e18a1206-7a56-469e-b9db-2e2340f6c0cd" ac:macro-id="a8e72e1b-1a65-4ddb-bede-97082390c90b"><ac:rich-text-body><p local-id="e6b8ef65-0f4f-4201-a7a3-8c59ef2bf63c">QueryPie Web Console 에서 QueryPie Database 에 연결하려면, DB 연결 설정이 필요합니다: <ac:link ac:card-appearance="inline" ac:local-id="664a01ce-d298-4ba5-9132-5993b5a55930"><ri:page ri:content-title="DB Connections" ri:version-at-save="29" /><ac:link-body>DB Connections</ac:link-body></ac:link></p><p local-id="3a77078c-4bb1-493f-95a2-a1e733f9fd0a">Database 연결 설정 과정에서 QueryPie MySQL 의 Hostname, Username, Password 가 필요합니다.</p><ul local-id="59eb9c5d-a2f7-4ec8-8b46-9f216b7f3e08"><li local-id="adea76d8-7b8e-4dd2-8147-af02b67a7cd6"><p local-id="f73234cc-1b40-4222-a328-af03aa961eb9">Hostname: <code>host.docker.internal</code></p></li><li local-id="c222d90369f7"><p local-id="ffcd98f8a414">Username: <code>querypie</code> (기본 설정의 경우)</p></li><li local-id="e24fb6b2-5c0d-4a16-9136-0191f4127124"><p local-id="72926788-77e3-400f-81dd-8a913717a7ce">Password: QueryPie 를 설치한 디렉토리의 환경변수 파일에서 <code>DB_PASSWORD</code> 를 확인하세요.</p><ul local-id="ea5a5cffcc3e"><li local-id="ff1f685ee94d"><p local-id="df8f7e2acf5a">setup.v2.sh 로 설치한 경우: <code>.env</code> 파일</p></li><li local-id="de66a3f56d34"><p local-id="0435bd3ee468">setup.sh 로 설치한 경우: <code>compose-env</code> 파일</p></li></ul></li></ul><p local-id="28e5834a-9afc-4f0d-9549-d7c7a99f9b02">환경변수 파일에 설정된 값 중 <code>DB_PASSWORD</code>, <code>REDIS_PASSWORD</code>, <code>KEY_ENCRYPTION_KEY</code> 등은 안전하게 보관하여야 합니다. 다른 사람에게 이 값을 노출하지 않도록 주의하여 주세요.</p></ac:rich-text-body></ac:structured-macro><p local-id="78826e78-49b7-4d47-85be-c52d4ba0cf92">아래 <code>&lt;customer-proxy-address&gt;</code> 부분을 고객사의 Proxy 접속 IP 혹은 도메인으로 갈음하여 쿼리를 수행합니다.</p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:local-id="b9c46b9b-c8ba-40e6-b144-e7a2ee3fb587" ac:macro-id="4bd05b89-ac24-4942-b3bb-cb5e0b3fad13"><ac:rich-text-body><p local-id="11569595-ebd6-497e-a083-bfcaa5eff347">해당 주소는 <code>http </code> <code>https</code> 와 같은 Scheme 을 붙여서는 안 됩니다.</p></ac:rich-text-body></ac:structured-macro><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="feb5daa0-a0b4-49a0-b0de-38b496a38c36" ac:macro-id="b6620d68-6865-48a8-9ce2-d43400690ef7"><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[UPDATE querypie.proxies SET host = '<customer-proxy-address>' WHERE id = 1;]]></ac:plain-text-body></ac:structured-macro><p local-id="dd852e23-6836-4147-8352-79b06642f396">쿼리 실행에 에러 없이 정상적으로 수행이 확인되었으면, 아래 쿼리를 수행하여 등록이 되었는지 확인합니다.</p><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="b53d7048-eb13-4a5c-a63b-8055b18b39c7" ac:macro-id="9ef39c2c-ff15-44e1-bb24-db802ee03225"><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[SELECT * FROM querypie.proxies;]]></ac:plain-text-body></ac:structured-macro><p local-id="3a38e10e-054c-4227-8615-362bb7086c2f">Proxy 접속을 위한 주소를 QueryPie Database 에 등록한 이후, Server Container 를 재시작하지 않아도 됩니다. User Agent 에서 로그인을 시도하면, 웹브라우저를 통해 인증을 진행한 이후, User Agent 를 사용할 수 있는 상태가 됩니다.</p><ac:image ac:align="center" ac:alt="image-20250520-082706.png" ac:custom-width="true" ac:layout="center" ac:local-id="45bf2064-cc68-4eb4-ada4-5649c109a528" ac:original-height="1958" ac:original-width="3600" ac:width="1100"><ri:attachment ri:filename="image-20250520-082706.png" ri:version-at-save="1" /><ac:caption ac:local-id="d3cf1634dcdd"><p>DAC/SAC Proxy 접속 주소 설정 화면</p></ac:caption></ac:image><h3 local-id="cc45fe61-c3bf-42e5-89b0-8ec8637497cb">KAC: Proxy 접속 주소 설정</h3><p local-id="eb0bc07b-8e9b-42ac-8dd9-56ceaa7b1406">QueryPie Database 에 접속하여, KAC 의 Proxy 접속을 위한 주소를 등록합니다.</p><p local-id="83d38cca-5fac-472d-a753-ebaedbb0497a">아래 <code>&lt;customer-proxy-fqdn&gt;</code> 부분을 고객사의 Proxy 접속 IP 혹은 도메인으로 갈음하여 쿼리를 수행합니다.</p><p local-id="8bfed2fc-4a85-4a1e-b297-53c3eb0cc95e">특이사항으로 DAC/SAC 설정과는 다르게 <code>http</code> <code>https</code> 와 같은 Scheme을 자유롭게 입력 가능합니다.</p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:local-id="8e7a574d-892a-485d-b919-c7a2e45c317d" ac:macro-id="cbf09588-0019-4f5b-86ba-9e4404efc871"><ac:rich-text-body><p local-id="7cd80a93-0e3b-46e4-b179-0f5e9fb4de90">설정 후, 내부적으로 등록한 주소에 맞는 TLS 인증서 발급을 위해 QueryPie Container 재 기동이 필요합니다.</p></ac:rich-text-body></ac:structured-macro><ac:structured-macro ac:name="code" ac:schema-version="1" ac:local-id="2e701fe5-9edf-41a3-bb1b-1ef6d53add4d" ac:macro-id="37f0bb55-4142-4f19-aa74-0dcba6adadff"><ac:parameter ac:name="breakoutMode">wide</ac:parameter><ac:parameter ac:name="breakoutWidth">1800</ac:parameter><ac:plain-text-body><![CDATA[UPDATE querypie.k_proxy_setting SET host = 'https://<customer-proxy-fqdn>';]]></ac:plain-text-body></ac:structured-macro><ac:image ac:align="center" ac:alt="image-20250520-084243.png" ac:custom-width="true" ac:layout="center" ac:local-id="fd98a135-3656-47a9-a048-9d8cbcc5393a" ac:original-height="1958" ac:original-width="3600" ac:width="1096"><ri:attachment ri:filename="image-20250520-084243.png" ri:version-at-save="1" /><ac:caption ac:local-id="de6e9e623862"><p>KAC Proxy 접속 주소 설정 화면</p></ac:caption></ac:image><p local-id="e3a94d3e-6599-42d3-ae84-bac0febe7359" /><h3 local-id="535d3e09-a80c-4734-94eb-537e0c06fff0">WAC: Proxy 접속 주소 설정</h3><blockquote local-id="403f5948-eb52-41b4-951d-0f44a5712979"><p local-id="a2ef763b-97fa-49a4-a3e3-6b86bb903570">설정 경로: Admin Page &rarr; Web Apps &rarr; Web App Configurations</p></blockquote><p local-id="8262b200-13ff-425d-a858-0df77df24fa2">WAC의 Proxy 접속 주소 설정은 Web Console 에서 수행 가능합니다.</p><p local-id="82d4ebf0-1e7d-4399-bd98-4c4c144a5039">자세한 설정 절차는 다음 문서를 참조하세요: <ac:link ac:card-appearance="inline" ac:local-id="3acd8529-5cb6-4702-90de-3ae175f72a0c"><ri:page ri:content-title="Web App Configurations에서 WAC 초기 설정하기" ri:version-at-save="8" /><ac:link-body>Web App Configurations에서 WAC 초기 설정하기</ac:link-body></ac:link> </p><ac:structured-macro ac:name="note" ac:schema-version="1" ac:local-id="089421d0-3012-4dc7-b250-cdbdedce5fb3" ac:macro-id="a472a487-9d8f-4ff9-9fb1-b0e29ce440cb"><ac:rich-text-body><p local-id="b7c53e43-48c2-4c58-9e9e-1f0a20093efb">설정 후, 내부적으로 등록한 주소에 맞는 TLS 인증서 발급을 위해 QueryPie Container 재 기동이 필요합니다.</p></ac:rich-text-body></ac:structured-macro><p local-id="1b33d6d0-9d02-4fa4-afab-c474247811ba" /><h2 local-id="dc53c1c73dbc">제품 설치가 완료되었습니다</h2><p local-id="8bf1fa955a7a">설치 후 초기 설정 과정을 진행한 것으로, QueryPie ACP 제품을 사용할 수 있는 준비가 완료되었습니다. 수고하셨습니다~!</p><p local-id="14b3f5e295c4">이후 다음의 문서를 참조하여, 관리자 설정을 진행하고, 제품을 사용할 수 있습니다.</p><ul local-id="9386b805eb5b"><li local-id="8fe277e6cf17"><p local-id="254ea5eacad8"><ac:link ac:card-appearance="inline" ac:local-id="ab53c58281ca"><ri:page ri:content-title="관리자 매뉴얼" ri:version-at-save="14" /><ac:link-body>관리자 매뉴얼</ac:link-body></ac:link></p></li><li local-id="5ef16c9180a2"><p local-id="f83dd48c7762"><ac:link ac:card-appearance="inline" ac:local-id="1e8fcece55be"><ri:page ri:content-title="사용자 매뉴얼" ri:version-at-save="24" /><ac:link-body>사용자 매뉴얼</ac:link-body></ac:link></p></li></ul>