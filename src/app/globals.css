@import 'nextra-theme-docs/style.css';

/* Custom CSS for QueryPie Docs */

/* 사이드바 폭 테스트 - 하나씩 확인 */

/* sidebar component 는 isExpanded 라는 내부 상태에 따라,
 * 'x:w-64' 또는 'x:w-20' 이라는 class 를 갖게 됩니다:
 * Refer to https://github.com/shuding/nextra/blob/main/packages/nextra-theme-docs/src/components/sidebar.tsx#L434
 *
 * 'x:w-<num>' 패턴의 class 이름은 tailwindcss framework 에서 비롯하였습니다: Refer to https://tailwindcss.com/docs/width
 */
aside.nextra-sidebar.x\:w-64 { /* expanded */
    /* 64 is the default width of the expanded sidebar */
    width: calc(var(--x-spacing) * 64);
}
aside.nextra-sidebar.x\:w-20 { /* collapsed */
    /* 20 is the default width of the collapsed sidebar */
    width: calc(var(--x-spacing) * 20);
}

/* Embedded Image */
article main figure {
    margin-bottom: 1.5rem;
    margin-top: 1.5rem;
}
article main figure figcaption {
    text-align: center;
}

/* Custom styles for QueryPie branding */
.querypie-custom {
  /* Add QueryPie specific styles here */
}

/* Table overflow fix - Ensure tables fit within main element width */
/* Fix for tables with data-table-width attribute that exceed parent width */
/* 
 * When a table has data-table-width attribute and its content exceeds the parent width,
 * we make the table itself a scrollable container while maintaining its internal table structure.
 */
article main table[data-table-width] {
  display: block;
  overflow-x: auto;
  overflow-y: visible;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* Restore table display for table children to maintain proper table structure */
article main table[data-table-width] > thead,
article main table[data-table-width] > tbody,
article main table[data-table-width] > tfoot {
  display: table;
  width: 100%;
  table-layout: auto;
}

article main table[data-table-width] > colgroup {
  display: table-column-group;
}

article main table[data-table-width] > colgroup > col {
  display: table-column;
}

/* Ensure table rows and cells maintain proper table layout */
article main table[data-table-width] tr {
  display: table-row;
}

article main table[data-table-width] td,
article main table[data-table-width] th {
  display: table-cell;
  white-space: normal;
  word-wrap: break-word;
  vertical-align: top;
}

/* Fix for all tables (including GFM markdown tables) to fit within main element width */
/* Override Nextra's table styles to ensure tables don't overflow main element */
/* Use block display with overflow for scrolling, but maintain table structure internally */
article main > table,
article main > * > table {
  display: block !important;
  overflow-x: auto !important;
  overflow-y: visible !important;
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  -webkit-overflow-scrolling: touch;
}

/* Restore table display for table children to maintain proper table structure */
/* Important: Use fixed layout to ensure all rows use the same column widths */
/* Make thead and tbody share the same table structure with fixed layout */
article main > table > thead,
article main > table > tbody,
article main > table > tfoot,
article main > * > table > thead,
article main > * > table > tbody,
article main > * > table > tfoot {
  display: table !important;
  width: 100% !important;
  min-width: 0 !important;
  max-width: 100% !important;
  table-layout: fixed !important;
}

article main > table > colgroup,
article main > * > table > colgroup {
  display: table-column-group !important;
}

article main > table > colgroup > col,
article main > * > table > colgroup > col {
  display: table-column !important;
}

/* Ensure table rows and cells maintain proper table layout */
article main > table tr,
article main > * > table tr {
  display: table-row !important;
}

article main > table td,
article main > table th,
article main > * > table td,
article main > * > table th {
  display: table-cell !important;
  white-space: normal !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  vertical-align: top;
}