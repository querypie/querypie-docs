---
title: 'Slack DM - Workflow通知タイプ'
---

# Slack DM - Workflow通知タイプ

### Overview

このドキュメントではSlack Direct Messages（DM）を通じてWorkflowリクエスト者/承認者/実行者に送信される通知タイプを案内します。

一般的な事前承認状態のWorkflowを基準に、進行状態により4種類の通知が送信されます。

1. 承認リクエスト通知
2. 却下通知
3. 承認完了通知 - リクエスト者に
4. 実行可能通知

事後承認（Urgent Mode）の場合には以下のように4種類の通知が送信されます。

1. 承認リクエスト通知
2. 実行可能通知
3. 承認完了通知 - リクエスト者に
4. Urgent Mode未承認通知

### 承認リクエスト通知

Workflowの5つのタイプ（SQL Request、SQL Export Request、DB Access Request、Server Access Request、Access Role Request）すべてをサポートします。

起案作成即座に1段階承認者に通知が送信されます。1段階承認が完了した場合には2段階承認者に通知が送信されます。同様に2段階承認が完了した場合3段階承認者に通知が送信されます。

各段階の承認者が複数名の場合には該当承認者すべてにメッセージが送信されます。この時承認者中代理決裁を設定したユーザーがいれば、該当代理決裁者にもメッセージが送信されます。代理決裁関連詳細設定方法は[リクエスト付加機能](../../../../../user-manual/workflow/approval-additional-features-proxy-approval-resubmission-etc)内**代理決裁使用**ドキュメントを参照してください。

QueryPie管理者の事前設定により、メッセージを受信した承認者はSlackで承認/却下をすることもできます。必要な設定は上部の'Slack DM設定'を確認してください。アクションボタンがなくても`Details`ボタンは常に含まれます。該当ボタンクリック時、ウェブブラウザが実行されQueryPieログイン画面が表示されます。ログイン成功時Workflow詳細ページに移動します。

事後承認（Urgent Mode）起案の場合には以下のように該当事実がメッセージに一緒に案内されます。事後承認リクエスト件であるため、アクションボタンを使用中でも`Approve`ボタンのみ表示されます。

<figure data-layout="center" data-align="center">
![一般モード承認リクエスト例（左）/ 事後承認モード承認リクエスト例（右）](/administrator-manual/general/system/integrations/integrating-with-slack-dm/slack-dm-workflow-notification-types/image-20231003-062427.png)
<figcaption>
一般モード承認リクエスト例（左）/ 事後承認モード承認リクエスト例（右）
</figcaption>
</figure>

### 却下通知

<figure data-layout="center" data-align="center">
![image-20231003-060544.png](/administrator-manual/general/system/integrations/integrating-with-slack-dm/slack-dm-workflow-notification-types/image-20231003-060544.png)
</figure>

Workflowの4つのタイプ（SQL Request、SQL Export Request、DB Access Request、Server Access Request）すべてをサポートします。どの段階でも該当起案を承認者が却下した場合、リクエスト者に即座にメッセージが送信されます。メッセージ内には却下理由コメントが一緒に伝達されます。

別途のアクションボタンは含まれず、`Details`ボタンが含まれます。該当ボタンクリック時、ウェブブラウザが実行されQueryPieログイン画面が表示されます。ログイン成功時Workflow詳細ページに移動します。

事後承認（Urgent Mode）起案の場合には却下ケースが存在しません。したがって却下メッセージも存在しません。

### 承認完了通知 - リクエスト者に

<figure data-layout="center" data-align="center">
![image-20231003-060552.png](/administrator-manual/general/system/integrations/integrating-with-slack-dm/slack-dm-workflow-notification-types/image-20231003-060552.png)
</figure>

Workflowの4つのタイプ（SQL Request、SQL Export Request、DB Access Request、Server Access Request）すべてをサポートします。承認が最終的に完了した時点でリクエスト者にメッセージが送信されます。

別途のアクションボタンは含まれず、`Details`ボタンが含まれます。該当ボタンクリック時、ウェブブラウザが実行されQueryPieログイン画面が表示されます。ログイン成功時Workflow詳細ページに移動します。

事後承認（Urgent Mode）起案の場合にもすべての事後承認が完了してからリクエスト者に該当メッセージが送信されます。

### 実行可能通知

WorkflowでExecute行動を含む2つのタイプ（SQL Request、SQL Export Request）をサポートします。

承認が最終的に完了した時点で実行者にメッセージが送信されます。

別途のアクションボタンは含まれず、`Details`ボタンが含まれます。該当ボタンクリック時、ウェブブラウザが実行されQueryPieログイン画面が表示されます。ログイン成功時Workflow詳細ページに移動します。該当ページでSQL RequestおよびSQL Export Requestを実行できます。

事後承認（Urgent Mode）起案の場合には起案提出即座に実行者にメッセージが送信されます。

<figure data-layout="center" data-align="center">
![image-20231003-062055.png](/administrator-manual/general/system/integrations/integrating-with-slack-dm/slack-dm-workflow-notification-types/image-20231003-062055.png)
</figure>

### Urgent Mode未承認通知

<figure data-layout="center" data-align="center">
![image-20231003-062615.png](/administrator-manual/general/system/integrations/integrating-with-slack-dm/slack-dm-workflow-notification-types/image-20231003-062615.png)
</figure>

Workflowで2つのタイプ（SQL Request、SQL Export Request）をサポートします。

Urgent Modeで提出された起案が1日以上未承認状態であることを知らせるメッセージです。1日以上経過したすべての起案件に対して該当段階の承認者に毎朝1回送信されます。

各段階の承認者が複数名の場合には該当承認者すべてにメッセージが送信されます。この時承認者中代理決裁を設定したユーザーがいれば、該当代理決裁者にもメッセージが送信されます。代理決裁関連詳細設定方法は[リクエスト付加機能](../../../../../user-manual/workflow/approval-additional-features-proxy-approval-resubmission-etc)内**代理決裁使用**ドキュメントを参照してください。

未承認起案1件ごとにメッセージが1件であるため、未承認起案が複数件であればメッセージも複数件送信されます。送信時刻は毎朝10時で、営業日と休日を区別しません。


