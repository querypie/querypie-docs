---
title: 'DocumentDB専用ガイド'
---

import { Callout } from 'nextra/components'

<Callout type="info">
Amazon DocumentDB専用詳細設定ガイドをここで提供します。
</Callout>

## Cloud同期する場合コネクションクラスター構造調整

クラウド同期を通じて生成されたクラスター情報を確認し、クラスターエンドポイント、読み取り専用エンドポイント、インスタンスエンドポイントをそれぞれ用途に合わせてアクセスできる機能で、マルチホスト環境でも効率的に動作するように設計されました。該当機能は管理者ページ &gt; Databases &gt; DB Connectionsで設定できます。

クラウド同期後、以下の画面のように最初のクラスターにCluster endpointアドレス、2番目のクラスターに読み取り専用endpointアドレス、3番目のクラスターにインスタンスendpointアドレスを使用したマルチホストconnection stringを見せます。インスタンスendpointで接続するよりCluster endpointを使用することをお勧めします。

<figure data-layout="center" data-align="center">
![image-20240122-102557.png](/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240122-102557.png)
</figure>

## Amazon DocumentDB TLS（SSL）使用

AWSで新しいDocumentDBを作成するとTLSを使用して転送区間暗号化を使用でき、ユーザーが選択的にオプションを切ることができます。Amazon DocumentDBクラスターに対する転送中データ暗号化はクラスターパラメーターグループのTLSパラメーターを通じて管理されます。AWS Management ConsoleまたはAWS Command Line Interface（AWS CLI）を使用してAmazon DocumentDBクラスターTLS設定を管理できます。[参照](https://docs.aws.amazon.com/ko_kr/documentdb/latest/developerguide/security.encryption.ssl.html#security.encryption.ssl.managing)<br/>Amazon DocumentDBでTLSがアクティブになっている場合、接続のためにAWSが提供するCAバンドル認証書が必要です。

### CAバンドル認証書登録

AWSではリージョンに関係なく共同で使用できる[globalバンドル認証書](https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html#UsingWithRDS.SSL.CertificatesAllRegions)と[リージョン別バンドル認証書](https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/UsingWithRDS.SSL.html#UsingWithRDS.SSL.RegionCertificates)2種類を提供します。

1. バンドル認証書をダウンロードします。
2. QueryPie管理者コンソールでDatabases &gt; Connection Management &gt; SSL Configurationsメニューに移動します。

<figure data-layout="center" data-align="center">
![image-20240730-112808.png](/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240730-112808.png)
</figure>

1. 右上にある`Create SSL`ボタンを押します。
2. `Name`項目に識別しやすいように名前を指定します。
3. `SSL Mode`で`Required`を選択します。
4. ダウンロードしたバンドル認証書（拡張子.pemファイル）をテキストエディターで開き、全体内容をコピーして`CA Certificate`項目に貼り付けます。
5. `Save`ボタンを押して設定を保存します。

<figure data-layout="center" data-align="center">
![image-20240220-225433.png](/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240220-225433.png)
</figure>

### DocumentDBに認証書マッピング

1. Adminstrator &gt; Databases &gt; Connection Management &gt; DB Connectionsメニューに移動します。
2. クラウド同期を通じて生成されているDocumentDBコネクションを選択します。
3. 下にスクロールして**SSL / SSH Setting**タブに移動します。
4. `Use SSL`チェックボックスをチェックしてアクティブにした後**SSL Configurations**で前段階（CAバンドル認証書登録）で登録した設定名を選択します。

<figure data-layout="center" data-align="center">
![image-20240220-230604.png](/administrator-manual/databases/connection-management/db-connections/documentdb-specific-guide/image-20240220-230604.png)
</figure>

1. 右上の`Save Changes`ボタンを押して設定を保存します。
