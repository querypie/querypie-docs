---
title: 'Running Queries'
---

import { Callout } from 'nextra/components'

## Overview

Running QueriesはWeb editorやWorkflowおよびProxyを通じて実行したクエリに対する情報を確認し、必要時に管理者が強制的に実行中のクエリを停止する機能を提供します。実行したクエリはRunning QueriesのExecuted Fromフィールドを通じてWeb Editorで実行したクエリか、Workflowを通じて実行されたクエリか確認できます。

## Running Queries照会

<figure data-layout="center" data-align="center">
![Databases &gt; Monitoring &gt; Running Queries](/administrator-manual/databases/monitoring/running-queries/image-20250512-110402.png)
<figcaption>
Databases &gt; Monitoring &gt; Running Queries
</figcaption>
</figure>

1. Databases &gt; Monitoring &gt; Running Queriesメニューに移動します。
2. 当日基準で降順でログが照会されます。
3. テーブル左上のフィルターボタンをクリックしてAND/OR条件で以下のフィルタリングが可能です。
    1.  **SQL Type** : SQL構文タイプ
    2.  **Action At**  : クエリ実行日時範囲
    3.  **Executed From**  : クエリ実行主体
        1.  **Web Editor**  : クエリパイウェブエディターで実行
        2.  **Proxy**  : クエリパイプロキシを通じた実行
        3.  **SQL Request**  : SQL Requestワークフローを通じた実行
        4.  **SQL Job**  : SQL Jobによる実行
        5.  **SQL Export Request**  : SQL Export Requestワークフローを通じた実行
4. テーブル右上の更新ボタンでログ一覧を最新化できます。
5. テーブルで以下のカラム情報を提供します:
    1.  **No**  : イベント識別番号
    2.  **Executed At**  : クエリ実行日時
    3.  **Name**  : 対象ユーザー
    4.  **Email**  : 対象ユーザーメール
    5.  **Action Type**  : アクションタイプ
    6.  **Connection Name**  : 対象DBコネクション名
    7.  **Database Type**  : 対象データベースタイプ
    8.  **Privilege**   **Name**  : ユーザーアクセス権限
    9.  **Client IP**  : ユーザークライアントIPアドレス
    10.  **Replication Type**  : DB Replicationタイプ
    11.  **DB Host**  : アクセスしたDBホスト
    12.  **DB Name**  : DB名
    13.  **DB User**  : DBユーザーID
    14.  **Table(s)**  : 呼び出しテーブル名
    15.  **SQL Type** : SQL構文タイプ
    16.  **Query**  : 実行クエリ文
    17.  **Client**   **Name**  : 利用クライアント名（DataGripなど）
    18.  **Execution Reason**  : クエリ実行理由
    19.  **Executed From**  : クエリ実行主体

## Running Query詳細内訳照会

各行をクリックすると詳細情報照会が可能です。

<figure data-layout="center" data-align="center">
![Databases &gt; Monitoring &gt; Running Queries &gt; Running Query Details](/administrator-manual/databases/monitoring/running-queries/image-20250512-110509.png)
<figcaption>
Databases &gt; Monitoring &gt; Running Queries &gt; Running Query Details
</figcaption>
</figure>

* 右側ドロワーには以下の情報を表示します:
    1.  **Name**  : 対象ユーザー名
    2.  **Action Type**  : アクションタイプ
    3.  **Privilege**   **Name**  : ユーザーアクセス権限
    4.  **Privilege**   **Type**  : ユーザーアクセス権限タイプ
    5.  **SQL Type** : SQL構文タイプ
    6.  **Executed From**  : クエリ実行主体
    7.  **Connection Name**  : 対象DBコネクション名
    8.  **Replication Type**  : DB Replicationタイプ
    9.  **Client**   **Name**  : 利用クライアント名（DataGripなど）
    10.  **Client IP**  : ユーザークライアントIPアドレス
    11.  **Database Type**  : 対象データベースタイプ
    12.  **DB Host**  : アクセスしたDBホスト
    13.  **DB Name**  : DB名
    14.  **DB User**  : DBユーザーID
    15.  **Table(s)**  : 呼び出しテーブル名
    16.  **Query**  : 実行クエリ文

## クエリ停止

Web Editorを通じて実行したクエリとWorkflowのSQL RequestまたはSQL Export Requestを通じて実行中のクエリはRunning Queriesで管理者が介入して停止できます。

<Callout type="info">
Proxyを通じて実行したクエリ情報は照会できますが停止できません。もし停止を希望するなら、Proxy Managementでセッションを停止する必要があります。
</Callout>

<figure data-layout="center" data-align="center">
![クエリ停止](/administrator-manual/databases/monitoring/running-queries/image-20250512-111342.png)
<figcaption>
クエリ停止
</figcaption>
</figure>

1. 停止したいクエリをチェックします。
2. Kill Queryボタンを押します。
3. 警告メッセージを確認し`OK`ボタンを押すとクエリが停止されます。
