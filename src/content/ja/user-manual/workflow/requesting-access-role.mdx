---
title: 'Access Role Request の申請'
---

import { Callout } from 'nextra/components'

## Overview

Access Role Requestはアクセスが必要なサーバーまたはKubernetesクラスターに対して役割（Role）を簡単に要求できます。承認即時に役割が付与され、役割で許可するサーバーまたはKubernetesクラスターに接続できます。


## Access Role Request

### 1. 承認ルールの選択

* Approval Ruleを選択して目的に合った承認ルールを選択してください。選択したルールに応じて承認対象が異なります。
* 管理者が承認者を指定した承認ルールが選択された場合、自動的に承認者が指定され、追加や変更はできません。
*  **Approval Expiration Date** : 承認有効期限を入力します。Maximum Approval Durationを通じて最大値を設定できます。Approval Expiration DateはRole Expiration Dateを超えることはできません。超えた場合、申請できません。
    * ただし、Urgent Modeで申請する場合、上記条件を無視します。

<figure data-layout="center" data-align="center">
![Screenshot-2025-08-26-at-12.54.02-AM.png](/user-manual/workflow/requesting-access-role/Screenshot-2025-08-26-at-12.54.02-AM.png)
</figure>

### 2. 承認者の指定

* 承認ラインで`+`ボタンを押すと、段階別承認者を指定できるポップアップが表示されます。
* このポップアップで承認条件と承認者を追加後、`Save`ボタンを押して承認ラインを保存します。
* 選択可能な承認条件は以下の通りです。
    *  **A single Assignee can complete the approval request**  : 複数名の中の一人の承認だけで承認要求が承認処理されます。
    *  **All Assignees must approve this request**  : すべての承認者が承認して初めて承認要求が承認処理されます。

<figure data-layout="center" data-align="center">
![image-20240807-130021.png](/user-manual/workflow/requesting-access-role/image-20240807-130021.png)
</figure>

### 3. 参照者の指定

* 承認ラインで`+`ボタンを押すと、参照者を指定できるポップアップが表示されます。
    * 管理者が参照者指定を許可していない場合、Reviewerボックスは表示されません。
* このポップアップで承認条件と承認者を追加します。
* `Save`ボタンを押してモーダルを閉じ、参照者指定を完了します。

<figure data-layout="center" data-align="center">
![image-20240807-130031.png](/user-manual/workflow/requesting-access-role/image-20240807-130031.png)
</figure>

### 4. 事後承認で要求を送信

* 事後承認機能が許可された承認ルールを選択した場合、Urgent Modeスイッチが表示されます。
* Urgent mode = Onに設定後、承認要求を登録すると即座に権限を付与されたり作業を実行できます。

<figure data-layout="center" data-align="center">
![image-20240807-130043.png](/user-manual/workflow/requesting-access-role/image-20240807-130043.png)
</figure>

<Callout type="important">
**Q. Urgent Modeスイッチが表示されません。**
A. 管理者がUrgent Modeを許可していない承認ルールを選択した場合、該当機能は表示されません。
</Callout>

### 5. 要求対象役割（Role）の選択

<figure data-layout="center" data-align="center">
![QueryPie Web &gt; Workflow &gt; Submit Request &gt; Access Role Request &gt; Step 2](/user-manual/workflow/requesting-access-role/screenshot-20240802-111018.png)
<figcaption>
QueryPie Web &gt; Workflow &gt; Submit Request &gt; Access Role Request &gt; Step 2
</figcaption>
</figure>

1.  **Service**  : 要求対象サービスを選択します。サーバーアクセス制御またはKubernetesアクセス制御を選択できます。
2.  **Role**  : 選択したサービスに応じて表示される役割リストから要求する役割を選択します。（単一選択）
3. 選択したサービスと役割に応じてリストで以下の情報が表示されます。
    1.  **Server Access Control**  : アクセス可能な各サーバーグループ名、サーバー名、アカウント名
    2.  **Kubernetes Access Control**  : アクセス可能なKubernetesクラスター名、プラットフォーム、API URL

<Callout type="important">
Access Role Requestは一度に一つの役割のみ要求できます。役割別に別々の承認要求が必要なため、権限管理を強化できます。
</Callout>

<figure data-layout="center" data-align="center">
![Screenshot-2025-08-26-at-1.18.14-AM.png](/user-manual/workflow/requesting-access-role/Screenshot-2025-08-26-at-1.18.14-AM.png)
</figure>

1.  **Role Expiration Date**  : 該当権限が回収される有効期限を選択します。
    * 有効期限は必須値で、別途設定しないと1年後の日付で基本選択されます。
    * 適切な接続アクセス権限管理のために必要な期間だけ要求することを推奨します

### 6. 要求情報の入力

<figure data-layout="center" data-align="center">
![QueryPie Web &gt; Workflow &gt; Submit Request &gt; Access Role Request &gt; Step 3](/user-manual/workflow/requesting-access-role/Screenshot-2025-08-26-at-1.09.31-AM.png)
<figcaption>
QueryPie Web &gt; Workflow &gt; Submit Request &gt; Access Role Request &gt; Step 3
</figcaption>
</figure>

*  **Title**  : 要求タイトルを入力します。
*  **Reason for Request**  : アクセス権限を要求する理由を入力します。
*  **Submit**  : 要求をすべて作成したら`Submit`ボタンで要求申請を完了します。
