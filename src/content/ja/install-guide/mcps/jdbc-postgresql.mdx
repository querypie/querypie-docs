# PostgreSQL

PostgreSQLデータベースに接続してデータを照会し管理することができます。

## 主要機能
- SQLクエリ実行
- データベーススキーマ照会
- テーブル・データ管理
- 高度なデータタイプサポート
- リアルタイムデータ分析
- 読み取り専用モードサポート

## 基本情報

### 認証方式
ユーザー名/パスワードを使用して認証します。

### 入力パラメータ
- **Host** (必須): PostgreSQLサーバーホスト
- **Port** (必須): PostgreSQLサーバーポート (デフォルト: 5432)
- **Database** (選択): 接続するデータベース名 (デフォルト: postgres)
- **Username** (必須): PostgreSQLユーザー名
- **Password** (必須): PostgreSQLパスワード
- **Connection Timeout** (選択): 接続タイムアウト時間 (デフォルト: 30000ms、最大値: 60000ms)
- **Use SSL** (選択): SSL接続使用可否
- **Read Only** (選択): 読み取り専用モード有効化可否

## サポートするMCPツール

### execute_sql
PostgreSQLデータベースにSQLクエリを実行し結果を返します。

**読み取り専用モード**では以下のSQLコマンドのみ許可されます:
- `SELECT` - データ照会
- `WITH` - CTE（Common Table Expression）使用
- `EXPLAIN` - クエリ実行計画照会
- `ANALYZE` - クエリ分析
- `SHOW` - メタデータ照会

**結果制限**: パフォーマンス上の理由で最大500行まで返されます。

例えば、
- Promptで「ユーザーテーブルのデータを照会してください」と入力すると、
- LLMはMCPを通じて`SELECT * FROM users`クエリを実行します。
- そして、Tool呼び出し結果を基にチャットで応答します。

## PostgreSQL接続設定方法
1. PostgreSQLサーバーにアクセス可能なユーザーアカウントを準備します。
2. 必要なデータベース権限を付与します。
3. ネットワークアクセス権限を設定します。
4. QueryPie AIでPostgreSQL統合を選択します。
5. 接続情報を入力して設定を完了します。

## 注意事項
- PostgreSQLユーザーアカウントのパスワードは安全に保管してください。
- 必要な最小限のデータベース権限のみ付与することを推奨します。
- プロダクション環境ではSSL接続を使用することを推奨します。
- 大容量クエリ結果は500行に制限されるため、適切なLIMIT句を使用してください。
- 読み取り専用モードを有効化してデータ変更を防止できます。 