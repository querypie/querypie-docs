# Dify API Access

DifyのチャットAPI（`/chat-messages`）を通じてDifyで作成したWorkflowをAI Hubから呼び出すことができます。

## 主要機能
- Difyで作成したWorkflowをAI Hubからトリガーすることができます。

## 基本情報

### 認証方式
API Keyを使用して認証します。

### 入力パラメータ
- **Base URL** (必須): Dify APIの基本URL（例: https://api.dify.ai）
- **API Key** (必須): Difyで発行されたAPIキー
- **User** (必須): 最終ユーザー識別子（検索・統計のためのユーザー定義）

## サポートするMCPツール

### send_chat_message
チャットアプリケーションにリクエストを送信します。

**入力パラメータ:**
- `query` (必須): ユーザー入力/質問内容
- `conversation_id` (選択): 対話ID、以前のチャット履歴を基に対話を続ける場合は以前のメッセージのconversation_idを渡す

## 使用例

例えば、
- Promptで「Dify AIに『こんにちは』というメッセージを送ってください」と入力すると、
- LLMはMCPを通じて`send_chat_message`ツールを呼び出してDify APIにメッセージを送信します。
- そして、Tool呼び出し結果を基にチャットで応答します。

## APIキー設定方法
1. DifyプラットフォームでAPIキーを発行します。
2. QueryPie AIでDify API Access統合を選択します。
3. Base URL、APIキー、ユーザー識別子を入力して接続を完了します。

## 注意事項
- 作成したAPIキーは安全に保管してください。
- Base URLはHTTPSを使用することを推奨します。
- ユーザー識別子は統計・検索目的で使用されるため、適切な値を設定してください。 