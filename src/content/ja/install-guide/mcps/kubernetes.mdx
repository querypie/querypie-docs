# Kubernetes

Kubernetesクラスターと接続して、リソース管理、監視、ログ確認などのクラスター運用機能を使用できます。

## 主な機能
- Kubernetesリソースの確認と管理
- Podログ確認
- クラスターメトリクス監視
- イベント確認
- リソースの作成、修正、削除

## 基本情報

### 認証方式
Kubeconfigファイルまたはサービスアカウントトークンを使用して認証します。

### 入力パラメータ
- **API Server Endpoint**（必須）：Kubernetes APIサーバーエンドポイント
- **Skip Insecure Certificates Verify**（オプション）：証明書検証をスキップするかどうか
- **Root CA Certificate**（オプション）：ルートCA証明書
- **Service Account Token**（必須）：サービスアカウントトークン

## サポートするMCPツール

### リソース確認ツール
#### list_api_resources
KubernetesクラスターのすべてのAPIリソースを確認します。

**入力パラメータ：**
- `includeNamespaceScoped`（オプション）：ネームスペーススコープリソースを含むかどうか
- `includeClusterScoped`（オプション）：クラスタースコープリソースを含むかどうか

#### list_resources
Kubernetesクラスターのリソースリストを確認します。

**入力パラメータ：**
- `kind`（必須）：リソース種類（Pod、Service、Deploymentなど）
- `namespace`（オプション）：ネームスペース
- `labelSelector`（オプション）：ラベルセレクター

#### get_resource
特定のKubernetesリソースを確認します。

**入力パラメータ：**
- `kind`（必須）：リソース種類
- `name`（必須）：リソース名
- `namespace`（オプション）：ネームスペース

#### describe_resource
Kubernetesリソースの詳細情報を確認します。

**入力パラメータ：**
- `kind`（必須）：リソース種類
- `name`（必須）：リソース名
- `namespace`（オプション）：ネームスペース

### ログと監視ツール
#### get_pod_logs
特定のPodのログを確認します。

**入力パラメータ：**
- `namespace`（必須）：ネームスペース
- `name`（必須）：Pod名

#### get_node_metrics
特定のノードのメトリクスを確認します。

**入力パラメータ：**
- `name`（必須）：ノード名

#### get_pod_metrics
特定のPodのメトリクスを確認します。

**入力パラメータ：**
- `namespace`（必須）：ネームスペース
- `name`（必須）：Pod名

#### get_events
Kubernetesクラスターのイベントを確認します。

**入力パラメータ：**
- `namespace`（オプション）：ネームスペース

### リソース管理ツール
#### create_or_update_resource
Kubernetesリソースを作成または更新します。

**入力パラメータ：**
- `manifest`（必須）：YAMLマニフェスト内容

#### delete_resource
Kubernetesリソースを削除します。

**入力パラメータ：**
- `kind`（必須）：リソース種類
- `name`（必須）：リソース名
- `namespace`（オプション）：ネームスペース

## 使用例

例えば、
- プロンプトで「defaultネームスペースのすべてのPodを確認して」と入力すると、
- LLMはMCPを通じて`list_resources`ツールを呼び出し、Podリストを確認します。
- そして、ツール呼び出し結果に基づいてチャットで応答します。

## 注意事項
- クラスターアクセス権限を安全に管理してください。
- 本番環境では読み取り専用権限を推奨します。
- リソースの作成/修正/削除時は慎重に検討してください。
- ネットワーク接続状態を確認してください。 