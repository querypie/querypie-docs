# Snowflake

Snowflakeクラウドデータウェアハウスに接続して、データを照会・分析できます。

## 主な機能
- クラウドネイティブデータウェアハウス
- 自動スケーリング
- マルチクラウドサポート
- リアルタイムデータ共有
- 高性能分析クエリ
- 読み取り専用モードサポート

## 基本情報

### 認証方式
ユーザー名/パスワードを使用して認証します。

### 入力パラメータ
- **Account Identifier**（必須）：Snowflakeアカウント識別子（例：myorganization-myaccount）
- **Username**（必須）：Snowflakeユーザー名
- **Password**（必須）：Snowflakeパスワード
- **Warehouse**（オプション）：ウェアハウス名
- **Database**（オプション）：データベース名
- **Schema**（オプション）：スキーマ名
- **Protocol**（オプション）：接続プロトコル（HTTPSまたはHTTP、デフォルト：HTTPS）
- **Port**（オプション）：ポート番号（デフォルト：443）

## サポートするMCPツール

### execute_sql
Snowflakeデータベースに対してSQLクエリを実行し、結果を返します。

**読み取り専用モード**では、以下のSQLコマンドのみが許可されます：
- `SELECT` - データ照会
- `WITH` - CTE（Common Table Expression）使用
- `EXPLAIN` - クエリ実行計画照会
- `ANALYZE` - クエリ分析
- `SHOW` - メタデータ照会

**結果制限**：パフォーマンス上の理由により、最大500行まで返されます。

例えば、
- プロンプトで「ユーザーテーブルのデータを照会して」と入力すると、
- LLMはMCPを通じて`SELECT * FROM users`クエリを実行します。
- そして、ツール呼び出し結果に基づいてチャットで応答します。

## Snowflake接続設定方法
1. Snowflakeアカウントにアクセス可能なユーザーアカウントを準備します。
2. 必要なデータベース権限を付与します。
3. ウェアハウスアクセス権限を設定します。
4. QueryPie AIでSnowflake統合を選択します。
5. アカウント識別子と接続情報を入力して設定を完了します。

## 注意事項
- Snowflakeユーザーアカウントのパスワードは安全に保管してください。
- 必要最小限のデータベース権限のみを付与することを推奨します。
- ウェアハウスサイズに応じてコストが発生するため、適切なサイズを選択してください。
- 大容量クエリ結果は500行に制限されるため、適切なLIMIT句を使用してください。
- 読み取り専用モードを有効にしてデータ変更を防ぐことができます。
- HTTPSプロトコルの使用を推奨します。 