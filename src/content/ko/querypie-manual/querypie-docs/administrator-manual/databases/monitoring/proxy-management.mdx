## Overview
관리자는 Proxy management 를 통해 활성화된 Proxy 커넥션을 확인하고 Port 상태를 확인할 수 있습니다. DataGrip이나 DBeaver와 같은 3rd party tool을 통해 쿼리를 수행하면 해당 세션을 확인하고 중지할 수도 있습니다.

## Proxy 사용 활성화된 커넥션 확인하기
* Proxy Session : Proxy를 통해 접속할 수 있는 각 Data source별 port 정보입니다.
* Connection Name : “Use Proxy” 옵션이 활성화 되어 있는 커넥션의 이름입니다.
* Data Source Type : MySQL 등 DBMS의 유형을 나타냅니다.
* Cloud Provider : 클라우드에서 동기화된 커넥션을 사용하는 경우 클라우드 서비스 공급자의 정보가 표시됩니다.
* Session Count : Proxy를 통해 연결된 총 session의 개수를 표시합니다.
* Connected At : 연결이 시작된 시점을 표시합니다.
* Status : 활성 유무를 표시합니다.

Administrator > Databases > Monitoring > Proxy Management

1. Database 설정 메뉴에서 Proxy Manangement 메뉴로 이동합니다.
2. 클러스터 기준으로 Proxy 사용이 활성화된 커넥션과 Port 정보를 확인할 수 있습니다.
3. Proxy 접속을 통해 커넥션에 연결 중인 사용자를 확인할 수 있고, 필요한 경우 해당 세션을 Kill할 수 있습니다.

## Proxy 사용 옵션 활성화
기본적으로는 Proxy 사용 옵션이 비활성화되어 있습니다. 접속을 허용할 커넥션에서 Proxy 사용 여부를 활성화합니다.

1. Database 설정 메뉴에서 DB Connections 메뉴로 이동합니다.
2. 등록한 커넥션을 하나 클릭합니다.
3. 하단의 Additional Information 항목으로 이동합니다.
4. Proxy Usage 옵션을 체크하여 활성화합니다.
5. 두 가지 Proxy 인증 방식 중 하나를 선택합니다.Use QueryPie registered account : 관리자가 커넥션 정보 페이지 내에 저장한 DB username / password 기준으로 Proxy 접속 정보를 생성하는 방식입니다. 사용자는 Agent 또는 별도로 생성된 Proxy Credential 정보를 이용해 Proxy 로 접속할 수 있습니다.Use existing database account with Agent : 사용자가 기존에 사용하던 DB username / password 를 사용할 수 있는 방식으로 Proxy 접속 정보가 생성됩니다. 사용자는 Agent 에서 실행 후 localhost 와 port 정보를 이용해 Proxy 로 접속할 수 있습니다.※ 사용자의 DB username / password 인증을 사용할 경우, Agent 를 통해서만 접속 가능합니다.
  1. Use QueryPie registered account : 관리자가 커넥션 정보 페이지 내에 저장한 DB username / password 기준으로 Proxy 접속 정보를 생성하는 방식입니다. 사용자는 Agent 또는 별도로 생성된 Proxy Credential 정보를 이용해 Proxy 로 접속할 수 있습니다.
  2. Use existing database account with Agent : 사용자가 기존에 사용하던 DB username / password 를 사용할 수 있는 방식으로 Proxy 접속 정보가 생성됩니다. 사용자는 Agent 에서 실행 후 localhost 와 port 정보를 이용해 Proxy 로 접속할 수 있습니다.※ 사용자의 DB username / password 인증을 사용할 경우, Agent 를 통해서만 접속 가능합니다.
6. Network ID : Reverse SSH 기능을 사용하는 경우에 필요한 설정 값입니다.

Proxy Usage 옵션을 활성화하면 Proxy 로 접속할 수 있는 Port 가 해당 커넥션에 할당됩니다. 사용자는 해당 옵션이 활성화되면 Proxy 접속 정보를 확인할 수 있고, 관리자만 해당 Proxy 옵션을 설정할 수 있습니다.
