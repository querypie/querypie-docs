# PostgreSQL

PostgreSQL 데이터베이스에 연결하여 데이터를 조회하고 관리할 수 있습니다.

## 주요 기능
- SQL 쿼리 실행
- 데이터베이스 스키마 조회
- 테이블 및 데이터 관리
- 고급 데이터 타입 지원
- 실시간 데이터 분석
- 읽기 전용 모드 지원

## 기본 정보

### 인증 방식
사용자명/비밀번호를 사용하여 인증합니다.

### 입력 파라미터
- **Host** (필수): PostgreSQL 서버 호스트
- **Port** (필수): PostgreSQL 서버 포트 (기본값: 5432)
- **Database** (선택): 연결할 데이터베이스명 (기본값: postgres)
- **Username** (필수): PostgreSQL 사용자명
- **Password** (필수): PostgreSQL 비밀번호
- **Connection Timeout** (선택): 연결 타임아웃 시간 (기본값: 30000ms, 최대값: 60000ms)
- **Use SSL** (선택): SSL 연결 사용 여부
- **Read Only** (선택): 읽기 전용 모드 활성화 여부

## 지원하는 MCP 도구

### execute_sql
PostgreSQL 데이터베이스에 SQL 쿼리를 실행하고 결과를 반환합니다.

**읽기 전용 모드**에서는 다음 SQL 명령어만 허용됩니다:
- `SELECT` - 데이터 조회
- `WITH` - CTE(Common Table Expression) 사용
- `EXPLAIN` - 쿼리 실행 계획 조회
- `ANALYZE` - 쿼리 분석
- `SHOW` - 메타데이터 조회

**결과 제한**: 성능상의 이유로 최대 500행까지만 반환됩니다.

예를 들어,
- Prompt로 "사용자 테이블의 데이터를 조회해줘" 라고 입력하면,
- LLM은 MCP를 통해 `SELECT * FROM users` 쿼리를 실행합니다.
- 그리고, Tool 호출 결과를 기반으로 채팅에서 응답합니다.

## PostgreSQL 연결 설정 방법
1. PostgreSQL 서버에 접근 가능한 사용자 계정을 준비합니다.
2. 필요한 데이터베이스 권한을 부여합니다.
3. 네트워크 접근 권한을 설정합니다.
4. QueryPie AI에서 PostgreSQL 통합을 선택합니다.
5. 연결 정보를 입력하여 설정을 완료합니다.

## 주의사항
- PostgreSQL 사용자 계정의 비밀번호는 안전하게 보관하세요.
- 필요한 최소한의 데이터베이스 권한만 부여하는 것을 권장합니다.
- 프로덕션 환경에서는 SSL 연결을 사용하는 것을 권장합니다.
- 대용량 쿼리 결과는 500행으로 제한되므로 적절한 LIMIT 절을 사용하세요.
- 읽기 전용 모드를 활성화하여 데이터 변경을 방지할 수 있습니다. 