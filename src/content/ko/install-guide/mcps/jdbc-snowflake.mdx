# Snowflake

Snowflake 클라우드 데이터 웨어하우스에 연결하여 데이터를 조회하고 분석할 수 있습니다.

## 주요 기능
- 클라우드 네이티브 데이터 웨어하우스
- 자동 스케일링
- 멀티 클라우드 지원
- 실시간 데이터 공유
- 고성능 분석 쿼리
- 읽기 전용 모드 지원

## 기본 정보

### 인증 방식
사용자명/비밀번호를 사용하여 인증합니다.

### 입력 파라미터
- **Account Identifier** (필수): Snowflake 계정 식별자 (예: myorganization-myaccount)
- **Username** (필수): Snowflake 사용자명
- **Password** (필수): Snowflake 비밀번호
- **Warehouse** (선택): 웨어하우스 이름
- **Database** (선택): 데이터베이스 이름
- **Schema** (선택): 스키마 이름
- **Protocol** (선택): 연결 프로토콜 (HTTPS 또는 HTTP, 기본값: HTTPS)
- **Port** (선택): 포트 번호 (기본값: 443)

## 지원하는 MCP 도구

### execute_sql
Snowflake 데이터베이스에 SQL 쿼리를 실행하고 결과를 반환합니다.

**읽기 전용 모드**에서는 다음 SQL 명령어만 허용됩니다:
- `SELECT` - 데이터 조회
- `WITH` - CTE(Common Table Expression) 사용
- `EXPLAIN` - 쿼리 실행 계획 조회
- `ANALYZE` - 쿼리 분석
- `SHOW` - 메타데이터 조회

**결과 제한**: 성능상의 이유로 최대 500행까지만 반환됩니다.

예를 들어,
- Prompt로 "사용자 테이블의 데이터를 조회해줘" 라고 입력하면,
- LLM은 MCP를 통해 `SELECT * FROM users` 쿼리를 실행합니다.
- 그리고, Tool 호출 결과를 기반으로 채팅에서 응답합니다.

## Snowflake 연결 설정 방법
1. Snowflake 계정에 접근 가능한 사용자 계정을 준비합니다.
2. 필요한 데이터베이스 권한을 부여합니다.
3. 웨어하우스 접근 권한을 설정합니다.
4. QueryPie AI에서 Snowflake 통합을 선택합니다.
5. 계정 식별자와 연결 정보를 입력하여 설정을 완료합니다.

## 주의사항
- Snowflake 사용자 계정의 비밀번호는 안전하게 보관하세요.
- 필요한 최소한의 데이터베이스 권한만 부여하는 것을 권장합니다.
- 웨어하우스 크기에 따라 비용이 발생하므로 적절한 크기를 선택하세요.
- 대용량 쿼리 결과는 500행으로 제한되므로 적절한 LIMIT 절을 사용하세요.
- 읽기 전용 모드를 활성화하여 데이터 변경을 방지할 수 있습니다.
- HTTPS 프로토콜 사용을 권장합니다. 