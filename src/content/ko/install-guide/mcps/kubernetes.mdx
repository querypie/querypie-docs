# Kubernetes

Kubernetes 클러스터와 연결하여 리소스 관리, 모니터링, 로그 조회 등의 클러스터 운영 기능을 사용할 수 있습니다.

## 주요 기능
- Kubernetes 리소스 조회 및 관리
- Pod 로그 조회
- 클러스터 메트릭 모니터링
- 이벤트 조회
- 리소스 생성, 수정, 삭제

## 기본 정보

### 인증 방식
Kubeconfig 파일 또는 서비스 어카운트 토큰을 사용하여 인증합니다.

### 입력 파라미터
- **API Server Endpoint** (필수): Kubernetes API 서버 엔드포인트
- **Skip Insecure Certificates Verify** (선택): 인증서 검증 건너뛰기 여부
- **Root CA Certificate** (선택): 루트 CA 인증서
- **Service Account Token** (필수): 서비스 어카운트 토큰


## 지원하는 MCP 도구

### 리소스 조회 도구
#### list_api_resources
Kubernetes 클러스터의 모든 API 리소스를 조회합니다.

**입력 파라미터:**
- `includeNamespaceScoped` (선택): 네임스페이스 스코프 리소스 포함 여부
- `includeClusterScoped` (선택): 클러스터 스코프 리소스 포함 여부

#### list_resources
Kubernetes 클러스터의 리소스 목록을 조회합니다.

**입력 파라미터:**
- `kind` (필수): 리소스 종류 (Pod, Service, Deployment 등)
- `namespace` (선택): 네임스페이스
- `labelSelector` (선택): 라벨 셀렉터

#### get_resource
특정 Kubernetes 리소스를 조회합니다.

**입력 파라미터:**
- `kind` (필수): 리소스 종류
- `name` (필수): 리소스 이름
- `namespace` (선택): 네임스페이스

#### describe_resource
Kubernetes 리소스의 상세 정보를 조회합니다.

**입력 파라미터:**
- `kind` (필수): 리소스 종류
- `name` (필수): 리소스 이름
- `namespace` (선택): 네임스페이스

### 로그 및 모니터링 도구
#### get_pod_logs
특정 Pod의 로그를 조회합니다.

**입력 파라미터:**
- `namespace` (필수): 네임스페이스
- `name` (필수): Pod 이름

#### get_node_metrics
특정 노드의 메트릭을 조회합니다.

**입력 파라미터:**
- `name` (필수): 노드 이름

#### get_pod_metrics
특정 Pod의 메트릭을 조회합니다.

**입력 파라미터:**
- `namespace` (필수): 네임스페이스
- `name` (필수): Pod 이름

#### get_events
Kubernetes 클러스터의 이벤트를 조회합니다.

**입력 파라미터:**
- `namespace` (선택): 네임스페이스

### 리소스 관리 도구
#### create_or_update_resource
Kubernetes 리소스를 생성하거나 업데이트합니다.

**입력 파라미터:**
- `manifest` (필수): YAML 매니페스트 내용

#### delete_resource
Kubernetes 리소스를 삭제합니다.

**입력 파라미터:**
- `kind` (필수): 리소스 종류
- `name` (필수): 리소스 이름
- `namespace` (선택): 네임스페이스

## 사용 예시

예를 들어,
- Prompt로 "default 네임스페이스의 모든 Pod를 조회해줘" 라고 입력하면,
- LLM은 MCP를 통해 `list_resources` 도구를 호출하여 Pod 목록을 조회합니다.
- 그리고, Tool 호출 결과를 기반으로 채팅에서 응답합니다.


## 주의사항
- 클러스터 접근 권한을 안전하게 관리하세요.
- 프로덕션 환경에서는 읽기 전용 권한을 권장합니다.
- 리소스 생성/수정/삭제 시 신중하게 검토하세요.
- 네트워크 연결 상태를 확인하세요.