# Dify API Access

Dify의 채팅 API (`/chat-messages`)를 통하여 Dify에서 생성한 Workflow를 AI Hub에서 호출할 수 있습니다.

## 주요 기능
- Dify에서 생성한 Workflow를 AI Hub에서 트리거할 수 있습니다.

## 기본 정보

### 인증 방식
API Key를 사용하여 인증합니다.

### 입력 파라미터
- **Base URL** (필수): Dify API의 기본 URL (예: https://api.dify.ai)
- **API Key** (필수): Dify에서 발급받은 API 키
- **User** (필수): 최종 사용자 식별자 (검색 및 통계를 위한 사용자 정의)

## 지원하는 MCP 도구

### send_chat_message
채팅 애플리케이션에 요청을 전송합니다.

**입력 파라미터:**
- `query` (필수): 사용자 입력/질문 내용
- `conversation_id` (선택): 대화 ID, 이전 채팅 기록을 기반으로 대화를 계속하려면 이전 메시지의 conversation_id를 전달

## 사용 예시

예를 들어,
- Prompt로 "Dify AI에게 '안녕하세요'라고 메시지를 보내줘" 라고 입력하면,
- LLM은 MCP를 통해 `send_chat_message` 도구를 호출하여 Dify API에 메시지를 전송합니다.
- 그리고, Tool 호출 결과를 기반으로 채팅에서 응답합니다.

## API Key 설정 방법
1. Dify 플랫폼에서 API 키를 발급받습니다.
2. QueryPie AI에서 Dify API Access 통합을 선택합니다.
3. Base URL, API 키, 사용자 식별자를 입력하여 연결을 완료합니다.

## 주의사항
- 생성한 API Key는 안전하게 보관하세요.
- Base URL은 HTTPS를 사용하는 것을 권장합니다.
- 사용자 식별자는 통계 및 검색 목적으로 사용되므로 적절한 값을 설정하세요.