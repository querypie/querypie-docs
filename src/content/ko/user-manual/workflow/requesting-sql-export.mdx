---
title: 'SQL Export Request 요청하기'
---

import { Callout } from 'nextra/components'

## Overview

아래 순서에 따라 SQL Export Request를 상신할 수 있습니다. 특정 DB 커넥션에 대해 권한이 없는 데이터 내보내기를 요청하게 되며 승인 후, 실행자는 승인받은 데이터 내보내기를 1회에 한해 실행할 수 있습니다.


## SQL Export Request 요청하기

### 1. 결재 규칙 선택하기

* Approval Rule을 선택하여 목적에 맞는 결재 규칙을 선택하세요. 선택한 규칙에 따라 승인 대상이 달라집니다. 
* 만약 관리자가 승인자를 지정한 결재 규칙이 선택된 경우, 자동으로 승인자가 지정되며 추가 및 변경이 불가합니다.

<figure data-layout="center" data-align="center">
![screenshot-20240807-215359.png](/user-manual/workflow/requesting-sql-export/screenshot-20240807-215359.png)
</figure>

### 2. 승인자 지정하기

* 결재 라인에서 `+` 버튼을 누르면 단계별 승인자를 지정할 수 있는 팝업창이 표시됩니다. 
* 이 팝업창에서 결재 승인 조건 및 승인자를 추가 후 `Save` 버튼을 눌러 결재 라인을 저장합니다.
* 선택 가능한 승인 조건은 다음과 같습니다. 
    *  **A single Assignee can complete the approval request**  : 여러 명 중 한 명의 승인만으로 결재 요청이 승인 처리됩니다.
    *  **All Assignees must approve this request**  : 모든 승인자가 승인하여야 결재 요청이 승인 처리됩니다.

<figure data-layout="center" data-align="center">
![screenshot-20240807-215435.png](/user-manual/workflow/requesting-sql-export/screenshot-20240807-215435.png)
</figure>

### 3. 실행자 및 참조자 지정하기

* 결재 라인에서 `+` 버튼을 누르면 실행자 및 참조자를 지정할 수 있는 팝업창이 표시됩니다. 
    * 관리자가 참조자 지정을 허용하지 않은 경우에는 Reviewer 박스가 표시되지 않습니다. 
* 이 팝업창에서 결재 승인 조건 및 승인자를 추가합니다. 
* `Save` 버튼을 눌러 모달을 닫고 참조자 지정을 완료합니다.

<figure data-layout="center" data-align="center">
![screenshot-20240807-215506.png](/user-manual/workflow/requesting-sql-export/screenshot-20240807-215506.png)
</figure>

### 4. 사후 승인으로 요청 보내기

* 사후 승인 기능이 허용된 결재 규칙을 선택한 경우 Urgent Mode 스위치가 표시됩니다. 
* Urgent mode = On 으로 설정 후 결재 요청을 등록하면 즉시 권한을 부여받거나 작업을 수행할 수 있습니다.

<figure data-layout="center" data-align="center">
![screenshot-20240807-215537.png](/user-manual/workflow/requesting-sql-export/screenshot-20240807-215537.png)
</figure>

<Callout type="important">
**Q. Urgent Mode 스위치가 보이지 않아요.**
A. 관리자가 Urgent Mode를 허용하지 않은 결재 규칙을 선택한 경우, 해당 기능이 표시되지 않습니다.
</Callout>

### 5. 요청 정보 입력하기

<figure data-layout="center" data-align="center">
![User &gt; Workflow &gt; Submit Request &gt; SQL Export Request &gt; Request Summary](/user-manual/workflow/requesting-sql-export/screenshot-20240802-105050.png)
<figcaption>
User &gt; Workflow &gt; Submit Request &gt; SQL Export Request &gt; Request Summary
</figcaption>
</figure>

*  **Title**  : 요청 제목을 입력합니다. 
*  **Connection**  : SQL 실행을 요청할 대상 커넥션을 선택합니다. 권한이 있는 커넥션에 한해 선택 가능합니다. 
*  **Database**  : 선택한 커넥션 내에서 데이터 내보내기를 요청할 커넥션 내의 데이터베이스를 선택합니다.
*  **Content Type**  : 다운로드하고자 하는 데이터를 조회할 방식을 선택합니다.
    1.  **Query Result**  : 요청 페이지 내의 Queries 항목에서 쿼리를 직접 작성합니다. 해당 쿼리 결과를 다운로드할 수 있습니다. 최대 10개까지 쿼리를 작성하고 Export 가능합니다. 
    2.  **Table**  : 선택한 테이블 전체를 내보내기 할 수 있습니다.
*  **Target Date**  : 해당 쿼리가 실행되기를 원하는 일자를 선택합니다. 기본 선택일은 요청일 당일입니다.
*  **Due Date**  : 다운로드가 실행되기를 원하는 일자를 선택합니다. 따로 설정하지 않으면 요청일로 기본 선택됩니다.
*  **Reason for Request**  : SQL Export 권한을 요청하는 사유를 입력합니다.
*  **Submit**  : 기안 작성 완료 후 `Submit` 버튼을 클릭하면 상신이 완료됩니다.


## 승인 완료된 데이터 다운로드하기

승인이 완료된 Export Request 건은 승인 완료 즉시 다운로드할 수 있는 상태가 됩니다.

<figure data-layout="center" data-align="center">
![screenshot-20240802-105329.png](/user-manual/workflow/requesting-sql-export/screenshot-20240802-105329.png)
</figure>

1. Workflow &gt; Executions &gt; To Do 메뉴로 이동합니다.
2. 실행 대기 중인 Export Request 건을 클릭하여 상세 페이지로 이동합니다.
3. Export Request 상세 내용을 확인 후 우측 상단의 `Execute` 버튼을 클릭합니다.
4. Export Option 모달에서 내보내기 옵션을 설정한 뒤, `Export` 버튼을 클릭합니다.
    1. 상세 내용 확인 후, 다운로드를 하지 않을 경우 `Cancel` 버튼을 클릭하여 취소 처리할 수 있습니다.
5. 다운로드가 완료된 결과는 상세 페이지 내의 Results 탭에서 확인할 수 있습니다. 
6. Workflow &gt; Executions &gt; Done 메뉴에서 본인이 다운로드한 요청 내역을 확인할 수 있습니다.
