## Reverse Tunnel을 통해 클러스터에 통신하기

QueryPie와 다른 Network Zone에 있는 리소스와 통신을 하는 수단으로 Reverse Tunneling을 지원하고 있습니다. 통신하려는 Network Zone에 Reverse Tunnel Agent를 설치하면 Reverse Tunnel Agent에서 QueryPie 방향(Outbound)으로 연결을 맺습니다.

리소스(클러스터)에 Tag를 추가하여 Reverse Tunnel을 통해 QueryPie에서 다른 Network Zone의 리소스로 통신을 할 수 있습니다.

## Reverse Tunnel을 클러스터에 적용하기

<p align="center">
![image-20250116-124402.png](./communicating-with-clusters-through-reverse-tunnel/image-20250116-124402.png)
*Administrator &gt; Kubernetes &gt; Connection Management &gt; Clusters &gt; List Details*
</p>

1. Administrator &gt; Kubernetes &gt; Connection Management &gt; Clusters 메뉴로 이동합니다.
2. 리스트 내 클러스터를 선택합니다. 클러스터 신규 등록시 [수동으로 쿠버네티스 클러스터 등록하기](수동으로 쿠버네티스 클러스터 등록하기)를 참고 바랍니다.
3. Clusters의 List Detail 페이지 내에서 Tags 항목에 아래 Tag를 추가합니다.
    1. `RTS = TRUE` : 이 Tag가 있는 클러스터는 Reverse Tunnels을 통해 통신을 시도합니다.
    2. Reverse Tunnel Agent의 Tag : 동일한 Tag가 있는 Reverse Tunnel Agent를 통해서 클러스터와 통신합니다. 동일한 Tag가 있는 Reverse Tunnel Agent가 없는 경우, 통신은 실패합니다.
4. `Save Changes` 버튼을 클릭하여 설정을 저장합니다.
