---
title: 'Email 연동'
---

import { Callout } from 'nextra/components'

## Overview

Email 연동을 통해 다음과 같은 주요기능을 지원합니다.

* 비밀번호 초기화 Email 발송 : 사용자의 비밀번호 초기화를 위한 메일을 발송합니다.
* 2차 인증용 인증코드 발송 : 사용자 로그인시 추가 보안단계를 Email을 통해 제공합니다.
* 이벤트 알림 : Alert 규칙을 통해 발생되는 이벤트에 대해 관리자에게 Email을 전송합니다.

Email 발송을 위해서는 SMTP 서버가 필요하며, QueryPie에서는 SMTP 서버와 연동하는 방법을 제공합니다.

## Email Integration 설정

1. Administrator &gt; General &gt; System &gt; Integrations 메뉴로 이동합니다. 
2. Email 타일을 클릭하여 상세 페이지로 이동합니다. 
3. 상세 페이지에 있는 `Configure` 버튼을 클릭하면 SMTP 정보를 입력할 수 있는 팝업이 표시됩니다. <br/> 
4. SMTP 설정을 생성하기 위해 다음의 정보들을 입력합니다. 
    1.  **Email Server Name**  : 식별이 용이하도록 임의의 이름을 입력합니다. 
    2.  **Host**  : SMTP 서버의 hostname (FQDN) 을 입력합니다. 
    3.  **Secure**  : 암호화 전송방식을 선택합니다. TLS, STARTTLS 중 하나를 선택할 수 있습니다. 기본값은 TLS입니다.<br/>STARTTLS는 SMTP Server가 TLS를 사용할 수 없다면 평문을 사용합니다. 
    4.  **Port**  : SMTP 서버가 사용하는 포트 번호를 입력합니다.
    5.  **Timeout (milliseconds)** : SMTP의 응답을 대기하는 임계값을 입력합니다. 기본값은 60000입니다. 반드시 필요한 경우가 아니라면 가급적 이 값을 수정하지 않도록 합니다. 
    6.  **Sender Email Address**  : 메일 발신자의 메일 주소를 입력합니다. 
    7.  **Sender Name**  : 메일 발신자의 이름으로 표시될 내용을 입력합니다.
    8.  **Support Email Address (Reply-to)**  : 쿼리파이에서 SMTP 서버로 발송하는 메일은 모두 발신전용 메일입니다. Sender Email Address에 입력한 발신전용 메일 주소는 사용자의 회신 메일을 받지못하므로 경우에 따라 메일 수신자가 기술지원을 요청해야 할 필요가 있을 때 메일을 수신할 주소를 제공할 필요가 있습니다. <br/>10.2.2 기준 암호초기화 email 템플릿, 2차 인증용 인증코드 메일 템플릿에서 여기서 지정한 support email address 를 사용하도록 되어 있습니다. 
    9.  **SMTP Server Requires Authentication 스위치**  : SMTP 서버에 접속 및 Email 발송을 위해 인증 필요 여부에 따라 On 또는 Off 를 선택합니다. On을 할 경우 User, Password 를 입력해야 합니다. 
        1. User : 인증을 위한 사용자를 입력합니다.형식은 일반적으로 email 주소입니다.
        2. Password : 인증 계정의 암호를 입력합니다.
    10.  **Test 버튼**  : SMTP 설정이 접속에 문제 없는지 확인합니다.<br/> 
5. `OK` 버튼을 누르고 설정을 저장합니다. 

## Email Integration 설정 수정

1. Administrator &gt; General &gt; System &gt; Integrations 메뉴로 이동합니다. 
2. Email 타일을 클릭하여 상세 페이지로 이동합니다. 
3. 상세페이지 Email sender에 표시된 SMTP 설정에 대해 Edit 버튼을 누릅니다.<br/> 
4. 변경이 필요한 부분을 수정하고 저장합니다.

## Email 발송내역 확인

1. Administrator &gt; General &gt; System &gt; Integrations 메뉴로 이동합니다. 
2. Email 타일을 클릭하여 상세 페이지로 이동합니다. 
3. Sent Email History 목록을 확인합니다.<br/>이 목록에 저장되는 email 발송 이력은 30일 동안 보관되고 30일 이전의 내용은 삭제됩니다.<br/> 

## Email Integration 설정 삭제

1. Administrator &gt; General &gt; System &gt; Integrations 메뉴로 이동합니다. 
2. Email 타일을 클릭하여 상세 페이지로 이동합니다. 
3. 상세페이지 Email sender에 표시된 SMTP 설정에 대해 Delete 버튼을 누릅니다.<br/>SMTP 설정을 사용하는 Alert, MFA 등의 설정이 존재하는 경우 SMTP 설정을 삭제할 수 없습니다.<br/>먼저 관련 설정을 모두 삭제해야 삭제 가능합니다.<br/>

## 사용자 비밀번호 초기화 메일 발송

<Callout type="info">
사용자가 직접 자신의 비밀 번호를 초기화 하도록 비밀번호 초기화 메일을 발송하려면 Email Integration 설정이 먼저 필요합니다.
</Callout>

Email을 통해 사용자가 자신의 비밀번호를 초기화하도록 하는 방법에 대해 아래 내용을 참고하세요.

* 관리자가 특정 사용자의 비밀 번호를 초기화 : [Users | 사용자-비밀번호-재설정하기](../../user-management/users#%ec%82%ac%ec%9a%a9%ec%9e%90-%eb%b9%84%eb%b0%80%eb%b2%88%ed%98%b8-%ec%9e%ac%ec%84%a4%ec%a0%95%ed%95%98%ea%b8%b0)
* 사용자가 자신의 비밀 번호를 직접 초기화 : [Email을 통한 사용자 비밀 번호 초기화](../../../../user-manual/my-dashboard/user-password-reset-via-email)

## 2차인증 수단으로 Email 사용

<Callout type="info">
QueryPie 10.2.2부터 Google OTP와 더불어 Email을 2차 인증 수단으로 사용할 수 있게 되었습니다. Email Integration 설정이 먼저 필요합니다.
</Callout>

2차 인증 수단으로 Email을 사용하는 방법은 아래 내용을 참고하세요.

* [Multi-Factor Authentication 설정하기](../../user-management/authentication/setting-up-multi-factor-authentication) 
