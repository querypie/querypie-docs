import { Callout } from 'nextra/components'

## Overview

Permission 또는 Role로 접근 권한이 부여된 서버에 대해서 Server Privilege를 부여하여 임시로 특정 명령어 사용을 허용할 수 있습니다. 기존에 이미 Server Privilege를 부여한 대상에게 Server Privilege를 다시 부여하는 경우, 기존의 Server Privilege를 회수하고 새로 다시 부여합니다.


## Server Privilege 부여하기

<p align="center">
![image-20250307-121546.png](/administrator-manual/servers/server-access-control/access-control/granting-server-privilege/image-20250307-121546.png)
*Administrator &gt; Servers &gt; Server Access Control &gt; Access Control &gt; User/Group &gt; Servers &gt; Server Details*
</p>

1. Administrator &gt; Servers &gt; Server Access Control &gt; Access Control 메뉴로 이동합니다.
2. 별도 명령어 예외처리 권한을 부여할 사용자 또는 사용자 그룹을 선택합니다.
3. Servers 탭 목록에서 대상 서버/계정을 선택하여 드로워 상세 페이지에 진입합니다.
4. 상세 페이지 하단에 Server Privilege 하단의 `Configure` 버튼을 클릭합니다.
5. 모달이 나타나면, 이하를 설정한 뒤 `Grant` 버튼을 클릭하여 예외처리를 마무리합니다.
    1.  **Commands**  : 허용이 필요한 명령어를 기입합니다.
        1.  **Keyword**  : 키워드로 입력 (ls, cat 등)
        2.  **RegEx**  : 정규표현식으로 입력 (^sudo\b[^&|;\n]*$ 등)
    2.  **Privilege Start Trigger**  : Server Privilege 적용 시간인 Privilege Duration의 시작 트리거를 선택할 수 있습니다.
        1.  **Access to Server**  : Server Privilege 적용 후, 적용된 사용자가 서버 접속 시작부터 시간을 카운트합니다. 
        2.  **Grant**  : Server Privilege 적용 시점부터 Server Privilege 사용 가능 시간을 카운트 합니다.
    3.  **Privilege Duration**  : Server Privilege 적용 시간을 설정합니다. 분단위로 시간을 입력할 수 있습니다. Privilege Start Trigger에 따라서 시작하는 시점이 달라집니다.
    4.  **Privilege Expiration Date**  : 위 명령에 대한 별도 예외처리 만료일자를 지정합니다.
6. 모달의 항목은 서버의 OS와 Require Privilege 옵션 상태에 따라 표시되는 항목이 달라집니다.
    1. 서버의 OS가 Linux이고 Require Privilege 옵션이 활성화된 경우
    2. 서버의 OS가 Linux이고 Require Privilege 옵션이 비활성화된 경우
    3. 서버의 OS가 Linux가 아니고 Require Privilege 옵션이 활성화된 경우
    4. 서버의 OS가 Linux가 아니고 Require Privilege 옵션이 비활성화된 경우

<Callout type="info">
**Q. 권한이 부여되거나 회수된 이력을 확인할 수 있는 곳이 있나요?**

A. Server Privilege를 설정하는 대상 서버가 Permission으로 부여된 경우, <br/>Audit 메뉴의 Servers &gt; Access Control Logs에서 기록됩니다.

Server Privilege를 설정하는 대상 서버가 Role로 부여된 경우, <br/>Audit 메뉴에서 Servers &gt; Server Role History 에서 기록됩니다.
</Callout>
