import { Callout } from 'nextra/components';

# QueryPie Client

Connect to the QueryPie platform to securely access databases and servers.

<Callout >
QueryPie Client MCP currently provides only user functionality.
</Callout>

## Key Features
- Database access through QueryPie DAC (Data Access Control)
- Server access through QueryPie SAC (Security Access Control)

## Basic Information

### Authentication Method
Authenticate using QueryPie platform username and password.

### Input Parameters
- **Server URL** (required): QueryPie API server URL
- **Username** (required): QueryPie username
- **Password** (required): QueryPie password

## Supported MCP Tools
Currently supports DAC and SAC related tools.

### DAC (Data Access Control) Tools
Manage database access through QueryPie's data access control functionality.

<Callout type="info">
QueryPie Client MCP only works with databases that have the Proxy Usage option enabled in QueryPie.
</Callout>

#### list_accessible_db_cloud_providers
Retrieve a list of all available cloud providers.

#### list_accessible_db_cluster_groups
Retrieve a list of accessible database cluster groups for a specific cloud provider.

**Input Parameters:**
- `cloudProviderUuid` (required): Cloud provider UUID

#### list_accessible_db_clusters
Retrieve a list of accessible database clusters for a specific cluster group. You must select a cluster to execute queries.

**Input Parameters:**
- `clusterGroupUuid` (required): Cluster group UUID

#### run_db_query
Execute SQL queries on the database.

**Input Parameters:**
- `clusterUuid` (required): Cluster UUID
- `proxyHost` (required): Proxy host
- `proxyPort` (required): Proxy port
- `query` (required): SQL query to execute

### SAC (Security Access Control) Tools
Manage server access through QueryPie's security access control functionality.

<Callout type="info">
QueryPie Client MCP only works with Linux-based servers.
</Callout>

#### list_accessible_server_roles
Retrieve a list of all accessible server roles. You must select a role to use in subsequent commands.

#### list_accessible_server_groups
Retrieve a list of all accessible server groups.

**Input Parameters:**
- `roleUuid` (required): Role UUID

#### list_accessible_servers
Retrieve a list of all accessible servers.

**Input Parameters:**
- `roleUuid` (required): Role UUID
- `serverGroupUuid` (required): Server group UUID

#### list_server_accounts
Retrieve a list of server accounts. This is a list of all accounts that can be used to connect to the server.

**Input Parameters:**
- `roleUuid` (required): Role UUID
- `serverUuid` (required): Server UUID

#### run_server_command
Execute commands on the server.

**Input Parameters:**
- `roleUuid` (required): Role UUID
- `host` (required): Server host
- `port` (required): Server port
- `username` (required): Username
- `command` (required): Command to execute

## Usage Example

For example,
- When you input the prompt "Show me the list of databases accessible through QueryPie",
- The LLM will sequentially call the QueryPie MCP tools `list_accessible_db_cloud_providers`, `list_accessible_db_cluster_groups`, and `list_accessible_db_clusters`, then respond based on the call results.

## Precautions
- Keep your QueryPie username and password secure.
- Maintain security through appropriate permission settings.
- Comply with your organization's security policies when accessing data.
- Regularly review access logs. 