---
title: 'Channels'
---

import { Callout } from 'nextra/components'

## Overview

The Channels page allows you to register and manage channels for receiving notifications sent from QueryPie. Currently, QueryPie provides four channel types: Slack, Agit, HTTP, and Email, each requiring preliminary integration work before channel registration.

## Viewing Registered Channels

You can view the current list of registered channels on the Administrator > General > Company Management > Channels page. You can search by channel name and filter by Channel Type.

<figure data-layout="center" data-align="center">
![Administrator > General > Company Management > Channels](/administrator-manual/general/company-management/channels/screenshot-20240808-172741.png)
<figcaption>
Administrator > General > Company Management > Channels
</figcaption>
</figure>

Clicking on an item in the list allows you to view and modify detailed information.

<figure data-layout="center" data-align="center">
![Administrator > General > Company Management > Channels > List Details](/administrator-manual/general/company-management/channels/screenshot-20241211-191603.png)
<figcaption>
Administrator > General > Company Management > Channels > List Details
</figcaption>
</figure>

## Registering Channels

Clicking the `Create Channel` button in the top right of the Channels page displays the channel creation modal.

<figure data-layout="center" data-align="center">
![Administrator > General > Company Management > Channels > Create Channel](/administrator-manual/general/company-management/channels/screenshot-20241211-154231.png)
<figcaption>
Administrator > General > Company Management > Channels > Create Channel
</figcaption>
</figure>

* **Title**: Channel name
* **Channel Type**: Select the channel type to receive notifications. Additional input items below vary depending on the selection.
    * Slack: Send notifications to Slack channel
    * Agit: Send notifications to Agit
    * HTTP: Direct HTTP API requests to services like Zapier, Okta Workflows
    * Email: Send notifications via email

### When Channel Type is selected as `Slack`

The input content for channel creation is as follows.

<Callout type="info">
For detailed Slack App configuration methods, please refer to the **Slack App Configuration Method for Slack Integration** section at the bottom of this document.
</Callout>

* **Message Sending Method**: Message transmission method
    * API: Message transmission using Slack API
        * When API is selected, mentioning assignees in New Request Alert is possible. (from version 10.2.2)
        * Bot User OAuth Token: Bot User OAuth Token of the Slack App that will send messages
        * Channel ID: Slack Channel ID where the Slack App is invited to send messages
    * Webhook: Message transmission via webhook method
        * Request URL (Required): URL to send the request to
            * After configuring Webhook in Slack App, copy and paste the Webhook URL information

### When Channel Type is selected as `Agit`

The input content for channel creation is as follows.

* **Request URL** (Required): URL to send the request to
* **Agit Channel**: Enter the name to display for the Agit channel

### When Channel Type is selected as `HTTP`

The input content for channel creation is as follows.

* **Request URL** (Required): URL to send the request to
* **Request Header (JSON)**: Enter request headers for the call if needed (JSON format)
* **Body Template**: Request body template
    * Default value: `{{message}}`
    * Enter content to be commonly added before and after messages defined in Alert

### When Channel Type is selected as `Email`

<Callout type="important">
**Note**

You can create Email type channels only when an SMTP server for email sending has been registered in QueryPie.

Go to Admin > General > System > Integration menu and click on the Email tile to check related settings.
</Callout>

The input content for channel creation is as follows.

* **Email Recipients** (Required): Email recipients
    * You can select users registered in QueryPie, and emails will be sent to their registered email addresses
* **Body Template**: Request body template
    * Default value: `{{message}}`
    * Enter content to be commonly added before and after messages defined in Alert

## Deleting Channels

Select the channel you want to delete using checkboxes in the channel list on the Channels page, and the `Delete` button will appear. Clicking the button displays a deletion confirmation modal. Click the `OK` button to complete the deletion.

<figure data-layout="center" data-align="center">
![Administrator > General > Company Management > Channels > Delete Confirmation Modal](/administrator-manual/general/company-management/channels/screenshot-20240728-222004.png)
<figcaption>
Administrator > General > Company Management > Channels > Delete Confirmation Modal
</figcaption>
</figure>

## Slack App Configuration Method for Slack Integration

### 1. Creating an App

<figure data-layout="center" data-align="center">
![Slack API > Apps > Create an App](/administrator-manual/general/company-management/channels/screenshot-20240305-161015.png)
<figcaption>
Slack API > Apps > Create an App
</figcaption>
</figure>

1. Go to [https://api.slack.com/apps](https://api.slack.com/apps).
2. Click the `Create an App` button.
3. In the above screen, select the App Name and Slack Workspace to send notifications to.
4. Click `Create App`.

### 2-1. Integrating with Webhook Type

<figure data-layout="center" data-align="center">
![Slack API > Apps > Settings > Incoming Webhooks](/administrator-manual/general/company-management/channels/screenshot-20240804-190716.png)
<figcaption>
Slack API > Apps > Settings > Incoming Webhooks
</figcaption>
</figure>

1. Go to the `Incoming Webhooks` menu within the app page.
2. Enable the Activate Incoming Webhooks option.
3. Click `Add New Webhook to Workspace` at the bottom.

<figure data-layout="center" data-align="center">
![Webhook Addition Screen in Slack](/administrator-manual/general/company-management/channels/image-20240305-110658.png)
<figcaption>
Webhook Addition Screen in Slack
</figcaption>
</figure>

1. Select the channel in the Workspace to send alerts to, then click the `Allow` button.
2. Copy the generated Webhook URL information and paste it into the QueryPie channel creation modal.

### 2-2. Integrating with API Type

1. Click on the created App to enter the app's Settings page, then go to the `App Manifest` menu.
2. Add `chat:write`, `users:read`, `users:read.email` to the scopes area and save.
3. Restart the app through `Reinstall your app` via the yellow notification bar at the top. (Required)
4. Click the `Reinstall to {Workspace_name}` button to select the Slack channel to send notifications to, then click the `Allow` button.
    1. To apply after changing Scope, you must perform this step again.
5. Go to the Slack channel and add the created app. (You can skip this step if you've already added the app)
6. Click the channel name to open the Channel Detail modal, copy the Channel ID at the bottom of the modal, and paste the copied Channel ID into the QueryPie channel creation modal.
7. Copy the Bot User OAuth Token from the OAuth & Permissions page and paste it into the QueryPie channel creation modal.
